<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ex="http://xml.exciting-code.org/inputschemaextentions.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xsi:schemaLocation="http://xml.exciting-code.org/inputschemaextentions.xsd    http://xml.exciting-code.org/inputschemaextentions.xsd">
  <!--
#######################
!DO NOT EDIT THIS FILE!
#######################

This file is compiled form the files in the schema directiory:

input.xsd 
common.xsd 
structure.xsd 
groundstate.xsd 
structureoptimization.xsd 
phonons.xsd 
properties.xsd 
xs.xsd 
gw.xsd 
-->
  <xs:annotation>
    <xs:appinfo>
      <includes>common.xsd structure.xsd groundstate.xsd structureoptimization.xsd phonons.xsd properties.xsd xs.xsd gw.xsd </includes>
    </xs:appinfo>
  </xs:annotation>
  <xs:annotation>
    <xs:appinfo>
      <root>/</root>
      <parent>.</parent>
    </xs:appinfo>
  </xs:annotation>
  <xs:simpleType name="fortrandouble">
    <xs:annotation>
      <xs:documentation> The type <pre>fortrandouble</pre> allows to use the letters
        <pre>"eEdDqQ"</pre> for exponent operators. This alters in what precision the number is
        parsed. </xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:token">
      <xs:pattern value="\-?[0-9]*\.?[0-9]+([eEdDqQ][\-+]?[0-9]+)?"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="vector">
    <xs:annotation>
      <xs:documentation> A vector is a space separated list of floating point numbers. <p> Example:
          <pre> "1.3 2.3e4 3 90"</pre>
        </p>
      </xs:documentation>
    </xs:annotation>
    <xs:list itemType="fortrandouble"/>
  </xs:simpleType>
  <xs:simpleType name="integerlist">
    <xs:annotation>
      <xs:documentation> List of space separated integers.</xs:documentation>
    </xs:annotation>
    <xs:list itemType="xs:integer"/>
  </xs:simpleType>
  <xs:simpleType name="vect3d">
    <xs:annotation>
      <xs:documentation> Three dimensional vector as three space separated floating point
        numbers.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="vector">
      <xs:length value="3"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="vect2d">
    <xs:annotation>
      <xs:documentation> Two dimensional vector as three space separated floating point
        numbers.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="vector">
      <xs:length value="2"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="integertriple">
    <xs:annotation>
      <xs:documentation> Space separated list of three integers. <p> Example: <pre> "1 2 3" </pre>
        </p>
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="integerlist">
      <xs:length value="3"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="integerquadrupel">
    <xs:annotation>
      <xs:documentation> Space separated list of three integers. <p> Example: <pre> "1 2 3 4" </pre>
        </p>
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="integerlist">
      <xs:length value="4"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="integerpair">
    <xs:annotation>
      <xs:documentation> Space separated list of two integers <p> Example: <pre> "1 2" </pre>
        </p>
      </xs:documentation>
    </xs:annotation>
    <xs:restriction base="integerlist">
      <xs:length value="2"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:attribute ex:importance="experimental" ex:unit="" name="outfileprefix" type="xs:string">
    <xs:annotation>
      <xs:documentation>A prefix to be prepended to the output files.</xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="tfibs" type="xs:boolean" default="true">
    <xs:annotation>
      <xs:documentation> If the IBS correction to the force should be calculated Because calculation
        of the incomplete basis set (IBS) correction to the force is fairly time-consuming, it can
        be switched off by setting <pre> tfibs </pre> to <pre> "false"</pre> This correction can
        then be included only when necessary, i.e. when the atoms are close to equilibrium in a
        structural relaxation run. </xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="tforce" type="xs:boolean" default="false">
    <xs:annotation>
      <xs:documentation> The attribute is set to <pre> "true"</pre> if the force should be
        calculated at the end of the self-consistent cycle This variable is automatically set to
        <pre> "true"</pre> when performing structural optimization. </xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="symmorph" type="xs:boolean" default="false">
    <xs:annotation>
      <xs:documentation> When set to <pre>"true"</pre> only symmorphic space-group operations are to
        be considered, i.e. only symmetries without non-primitive translations are used anywhere in
        the code. </xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="Hartree" name="scissor" type="fortrandouble" default="0.0d0">
    <xs:annotation>
      <xs:documentation> This is the scissors shift applied to states above the Fermi energy.
        Affects DOS, optics and band structure plots.</xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="fastpmat" type="xs:boolean" default="true">
    <xs:annotation>
      <xs:documentation> if <pre>"true"</pre>, a fast method to calculate APW-lo, lo-APW and lo-lo
        parts of the momentum matrix elements in the muffin-tin is used. </xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="intraband" type="xs:boolean" default="false">
    <xs:annotation>
      <xs:documentation> The intraband attribute is <pre>"true"</pre> if the intraband term is to be
        added to the optical matrix (q=0) </xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="action" default="include">
    <xs:annotation>
      <xs:documentation>Select to include or exclude states</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="include"/>
        <xs:enumeration value="exclude"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="statestype">
    <xs:annotation>
      <xs:documentation>Select for initial or final state range</xs:documentation>
    </xs:annotation>
    <xs:simpleType>
      <xs:restriction base="xs:string">
        <xs:enumeration value="initialstates"/>
        <xs:enumeration value="finalstates"/>
      </xs:restriction>
    </xs:simpleType>
  </xs:attribute>
  <xs:attribute ex:importance="essential" ex:unit="" name="epsforce" type="fortrandouble" default="5.0d-5"> </xs:attribute>
  <xs:attribute ex:importance="essential" ex:unit="" name="nwdos" type="xs:integer" default="500">
    <xs:annotation>
      <xs:documentation>Number of frequency/energy points in the DOS</xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="essential" ex:unit="" name="ngrdos" type="xs:integer" default="100">
    <xs:annotation>
      <xs:documentation>Effective k-point mesh size to be used for Brillouin zone
        integration.</xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:attribute ex:importance="expert" ex:unit="" name="nsmdos" type="xs:integer" default="0">
    <xs:annotation>
      <xs:documentation>Level of smoothing applied to DOS/optics output integer
        0.</xs:documentation>
    </xs:annotation>
  </xs:attribute>
  <xs:element ex:importance="essential" ex:unit="" name="origin">
    <xs:complexType>
      <xs:attribute ex:importance="essential" ex:unit="" name="coord" type="vect3d"/>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="essential" ex:unit="" name="point">
    <xs:complexType>
      <xs:attribute ex:importance="essential" ex:unit="" name="coord" type="vect3d" use="required"/>
      <xs:attribute ex:importance="essential" ex:unit="" name="label" type="xs:string" default=""/>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="essential" ex:unit="" name="plot1d">
    <xs:annotation>
      <xs:documentation> The element plot1d specifies sample points along a path. The coordinate
        space (lattice or cartesian)is chosen in the context of the parent.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:all>
        <xs:element ex:importance="essential" ex:unit="" name="path" maxOccurs="1" minOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:annotation>
                <xs:documentation>A path consists of at least two points and a number of
                  divisions.</xs:documentation>
              </xs:annotation>
              <xs:element ex:importance="essential" ex:unit="" ref="point" minOccurs="2" maxOccurs="unbounded"/>
            </xs:sequence>
            <xs:attribute ex:importance="essential" ex:unit="" name="steps" type="xs:integer" use="required"/>
            <xs:attribute ex:importance="expert" ex:unit="" ref="outfileprefix"/>
          </xs:complexType>
        </xs:element>
      </xs:all>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="essential" ex:unit="" name="plot2d">
    <xs:annotation>
      <xs:documentation>Defines a 2d plot domain.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:all>
        <xs:element ex:importance="essential" ex:unit="" name="parallelogram" maxOccurs="1" minOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:element ex:importance="essential" ex:unit="" ref="origin" minOccurs="1" maxOccurs="1"/>
              <xs:element ex:importance="essential" ex:unit="" ref="point" minOccurs="2" maxOccurs="2"/>
            </xs:sequence>
            <xs:attribute ex:importance="essential" ex:unit="" name="grid" type="integerpair" use="required"/>
            <xs:attribute ex:importance="expert" ex:unit="" ref="outfileprefix"/>
          </xs:complexType>
        </xs:element>
      </xs:all>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="essential" ex:unit="" name="plot3d">
    <xs:annotation>
      <xs:documentation>Defines a 3d plot domain.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:all>
        <xs:element ex:importance="essential" ex:unit="" name="box" maxOccurs="1" minOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:element ex:importance="essential" ex:unit="" ref="origin" minOccurs="1" maxOccurs="1"/>
              <xs:element ex:importance="essential" ex:unit="" ref="point" minOccurs="3" maxOccurs="3"/>
            </xs:sequence>
            <xs:attribute ex:importance="essential" ex:unit="" name="grid" type="integertriple" use="required"/>
            <xs:attribute ex:importance="expert" ex:unit="" ref="outfileprefix"/>
          </xs:complexType>
        </xs:element>
      </xs:all>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="essential" ex:unit="" name="pointstatepair" type="integerpair">
    <xs:annotation>
      <xs:documentation> The element <pre>pointstatepair</pre> defines a <inlinemath>{ \bf
          k}</inlinemath>-point and state index pair. </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:element ex:importance="essential" ex:unit="" name="kstlist">
    <xs:annotation>
      <xs:documentation> The kstlist element is used in the LSJ and wavefunction plot element This
        is a user-defined list of <inlinemath>{ \bf k}</inlinemath>-point and state index pairs
        which are those used for plotting wavefunctions and writing <inlinemath>{ \bf
          L}</inlinemath>, <inlinemath>{ \bf S}</inlinemath> and <inlinemath>{ \bf J} </inlinemath>
        expectation values. </xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ex:importance="essential" ex:unit="" ref="pointstatepair" minOccurs="1" maxOccurs="unbounded"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="expert" ex:unit="" name="energywindow">
    <xs:complexType>
      <xs:attribute ex:importance="expert" ex:unit="" name="points" type="xs:integer" default="500">
        <xs:annotation>
          <xs:documentation>number of points to be sampled linearly inside the energy interval
            including the lower limit.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="intv" type="vect2d" default="-0.5d0 0.5d0">
        <xs:annotation>
          <xs:documentation>energy interval lower and upper limits.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="expert" ex:unit="" name="qpointset">
    <xs:complexType>
      <xs:sequence>
        <xs:element ex:importance="expert" ex:unit="" name="qpoint" type="vect3d" minOccurs="1" maxOccurs="unbounded">
          <xs:annotation>
            <xs:documentation> a q-point is given in reciprocal space coordinates</xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:element ex:importance="expert" ex:unit="" name="parts">
    <xs:complexType>
      <xs:sequence>
        <xs:element ex:importance="expert" ex:unit="" name="dopart" minOccurs="0" maxOccurs="unbounded">
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="id" type="xs:string" use="required">
              <xs:annotation>
                <xs:documentation> This attribute is used to trigger lower-level tasks and is mainly
                  used for testing, debugging, and the testing of new features. Do not use it unless
                  you know what you are doing.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  <xs:annotation>
    <xs:appinfo>
      <parent>/input</parent>
      <root>structure</root>
    </xs:appinfo>
  </xs:annotation>
  <xs:element ex:importance="essential" ex:unit="" name="structure">
    <xs:annotation>
      <xs:documentation>This element contains all structural information, such as unit-cell
        parameters as well as type and position of each atom. The presence of the subelement
          <elementref>species</elementref> is necessary unless one wants to perform an empty-lattice
        calculation. The attribute <attref>speciespath</attref> must be
        specified.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ex:importance="essential" ex:unit="" name="crystal" minOccurs="1" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>Defines the unit cell of the crystal via the 3 basis
              vectors.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:annotation>
              <xs:documentation>The unit cell is spanned by 3 base vectors that define the lattice
                coordinates.</xs:documentation>
            </xs:annotation>
            <xs:sequence>
              <xs:element ex:importance="essential" ex:unit="Bohr" name="basevect" minOccurs="3" maxOccurs="3" type="vect3d">
                <xs:annotation>
                  <xs:documentation>Defines one basis vector in Cartesian
                    coordinates.</xs:documentation>
                  <xs:appinfo>
                    <oldname>avec</oldname>
                  </xs:appinfo>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
            <xs:attribute ex:importance="essential" ex:unit="1" name="scale" type="fortrandouble" default="1.0d0">
              <xs:annotation>
                <xs:documentation>Scales all the lattice vectors by the same factor. This is useful
                  for varying the volume.</xs:documentation>
                <xs:appinfo>
                  <oldname>scale</oldname>
                </xs:appinfo>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" name="stretch" type="vect3d" default="1.0d0 1.0d0 1.0d0 ">
              <xs:annotation>
                <xs:documentation> Allows for an individual scaling of each lattice vector
                  separately. <pre>"1 1 1"</pre> means no scaling. </xs:documentation>
                <xs:appinfo>
                  <oldname>(sc1|sc2|sc3)</oldname>
                </xs:appinfo>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="essential" ex:unit="" name="species" minOccurs="0" maxOccurs="unbounded">
          <xs:annotation>
            <xs:documentation>Defines the atomic species, <it>i.e.</it>, the chemical element. Aatomic
              coordinates and, optionally, quantities relevant for magnetic calculations are defined
              in the subelement(s) atom.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element ex:importance="essential" ex:unit="" name="atom" minOccurs="1" maxOccurs="unbounded">
                <xs:annotation>
                  <xs:documentation>Defines the position and other attributes of one atom in the
                    unit cell.</xs:documentation>
                  <xs:appinfo>
                    <oldname>noname</oldname>
                  </xs:appinfo>
                </xs:annotation>
                <xs:complexType>
                  <xs:attribute ex:importance="essential" ex:unit="lattice coordinates" name="coord" type="vect3d" use="required">
                    <xs:annotation>
                      <xs:documentation>Atom position in lattice coordinates.</xs:documentation>
                      <xs:appinfo>
                        <oldname>atposl</oldname>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute ex:importance="expert" ex:unit="" name="bfcmt" type="vect3d" default="0.0d0 0.0d0 0.0d0" use="optional">
                    <xs:annotation>
                      <xs:documentation>Muffin-tin external magnetic field in Cartesian
                        coordinates.</xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute ex:importance="expert" ex:unit="" name="mommtfix" type="vect3d" default="0.0d0 0.0d0 0.0d0" use="optional">
                    <xs:annotation>
                      <xs:documentation>The desired muffin-tin moment for a Fixed Spin Moment (FSM)
                        calculation.</xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
              <xs:element ex:importance="expert" ex:unit="" name="LDAplusU" minOccurs="0">
                <xs:annotation>
                  <xs:documentation> The LADplusU element is used to specify the  J, U, and l
                    parameters of an atomic species. To switch on the LDAplusU feature one needs to set the
                      <attref>ldapu</attref> attribute of the groundstate element.
                  </xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:attribute ex:importance="expert" ex:unit="" name="l" type="xs:integer" default="-1">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldname>notaname</oldname>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute ex:importance="expert" ex:unit="" name="U" type="fortrandouble" default="0.0d0">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldname>notaname</oldname>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute ex:importance="expert" ex:unit="" name="J" type="fortrandouble" default="0.0d0">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldname>notaname</oldname>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
            <xs:attribute ex:importance="essential" ex:unit="" name="speciesfile" type="xs:anyURI" use="required">
              <xs:annotation>
                <xs:documentation> Defines the file that contains the species definition. It is
                  looked up in the species directory specified by  <attref>speciespath</attref>. By default, the
                  name of the file is <it>element</it>.<pre>xml</pre>, <it>e.g.</it>, <pre>Ag.xml</pre>. </xs:documentation>
                <xs:appinfo>
                  <oldname>spfname</oldname>
                </xs:appinfo>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="output" ex:unit="" name="chemicalSymbol" type="xs:string" use="optional" default="">
              <xs:annotation>
                <xs:documentation> Optional attribute that may be used in visualization and by
                  converters. It is ignored by <exciting>exciting</exciting>.
                </xs:documentation>
                <xs:appinfo>
                  <oldname>spsymb</oldname>
                </xs:appinfo>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="output" ex:unit="" name="atomicNumber" type="xs:integer" use="optional">
              <xs:annotation>
                <xs:documentation> Optional attribute that may be used in visualization and by
                  converters. It is not used in <exciting>exciting</exciting>.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="Bohr" name="rmt" type="fortrandouble" default="-1.0d0" use="optional">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>noreplace&gt;</oldname>
                </xs:appinfo>
                <xs:documentation> Defines the muffin-tin radius. This optional parameter allows to
                  override the value either specified in the species file or generated by automatic determination.
                   The muffin-tin radius defines
                  the region around the atomic nucleus where the wave function is expanded in terms
                  of atomic-like functions. In contrast, the interstitial region, <it>i.e.</it>, the 
                  region not belonging to any muffin-tin sphere, is described by planewaves.
                 </xs:documentation>
              </xs:annotation>
            </xs:attribute>
           

          </xs:complexType>
        </xs:element>
         <xs:element ex:importance="ignore" ex:unit="" name="symmetries" maxOccurs="1" minOccurs="0">
         <xs:annotation>
         <xs:appinfo>
         
         </xs:appinfo>
         </xs:annotation>
         </xs:element>
         
            </xs:sequence>
      <xs:attribute ex:importance="essential" ex:unit="" name="speciespath" type="xs:anyURI" use="required">
        <xs:annotation>
          <xs:documentation> The path to the directory containing the species files. Alternatively,
            it can be defined as an HTTP URL, in this case the <a href="http://exciting-code.org/wget"> wget </a> utility must be installed. </xs:documentation>
          <xs:appinfo>
            <oldname>sppath</oldname>
          </xs:appinfo>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="molecule" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> If <pre>"true"</pre>, a calculation for an isolated molecule is
            performed. In this case, the atomic positions specified by the
              <elementref>atom</elementref> subelement of the <elementref>species</elementref>
            element must be given in cartesian coordinates. The lattice vectors are set up
            automatically as <displaymath>{\bf A}^{(i)}=A_i\,\,\hat{\bf e}^{(i)} \qquad
              i=1,2,3</displaymath> with <displaymath>A_i=\max_{\alpha,\beta}\left|{
              a}^{(\alpha)}_i-{a}^{(\beta)}_i\right| +d_{\rm vac}</displaymath> where
              <inlinemath>{a}_i^{(\alpha)} </inlinemath> is the catesian component of the atom
            labeled by <inlinemath>\alpha</inlinemath> in the <inlinemath>i</inlinemath>-th
            direction specified by the unit vector <inlinemath>\hat{\bf e}^{(i)}</inlinemath>.
            Furthermore, <inlinemath>d_{\rm vac}</inlinemath> represents the size of the vacuum
            around the molecule as defined by the attribute <attref>vacuum</attref>.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="rmtapm" type="vect2d" default="0.25d0 0.95d0">
        <xs:annotation>
          <xs:documentation> This attribute assigns the two parameters governing the automatic
            generation of the muffin-tin radii. When the attribute <attref>autormt</attref> is set
            to <pre>"true"</pre>, the muffin-tin radii are determined according to the following
            expression <displaymath>R_i\propto 1+\zeta|Z_i|^{1/3}, </displaymath> where
              <inlinemath>Z_i</inlinemath> is the atomic number of the <inlinemath>i</inlinemath> th
            species, <inlinemath>\zeta</inlinemath> is stored in <attref>rmtapm</attref>(1). The
            distance between the muffin-tin speheres is determined by the value of
              <attref>rmtapm</attref>(2): When <attref>rmtapm</attref>(2)=1, the closest muffin-tin
            spheres will touch each other. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Bohr" name="vacuum" type="fortrandouble" default="10.0d0">
        <xs:annotation>
          <xs:documentation>Determines the size of the vacuum around the molecule, see the
              <attref>molecule</attref> attribute.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Bohr" name="epslat" type="fortrandouble" default="1.0d-6">
        <xs:annotation>
          <xs:documentation>This attribute defines the accuracy up to which two vectors can be
            considered numerically identical. Vectors with lengths less than this are considered
            zero.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="autormt" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> If <pre>"true"</pre>, the muffin-tin radius of each species is
            automatically set according to the variables specified by the attribute
              <attref>rmtapm</attref>. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="primcell" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> If <pre>"true"</pre>, the primitive unit cell is determined
            automatically from the conventional cell defined by the basis vectors given by the
              <elementref>basevect</elementref> elements. The primitive unit cell is determined by
            searching for lattice vectors among all vectors connecting atomic sites and choosing the
            three shortest ones which produce a unit cell with non-zero volume. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="tshift" type="xs:boolean" default="true">
        <xs:annotation>
          <xs:documentation> If <pre>"true"</pre>,  the crystal is shifted such that
            the atom closest to the origin is exactly at the origin. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:annotation>
    <xs:appinfo>
      <parent>/input</parent>
      <root>groundstate</root>
    </xs:appinfo>
  </xs:annotation>
  <xs:element ex:importance="essential" ex:unit="" name="groundstate">
    <xs:annotation>
      <xs:documentation> The <elementref>groundstate</elementref> 
      element is required for any calculation. 
      Its attributes are
        the parameters and methods used to calculate the ground-state density.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:all>
        <xs:element ex:importance="essential" ex:unit="" name="spin" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation> If the <elementref>spin</elementref> element is present calculation is done with
              spin polarization. </xs:documentation>
            <xs:appinfo>
              <oldname>spinpol</oldname>
            </xs:appinfo>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="essential" ex:unit="" name="momfix" type="vect3d" default="0.0d0 0.0d0 0.0d0">
              <xs:annotation>
                <xs:documentation>The desired total moment for a FSM calculation.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" name="bfieldc" type="vect3d" default="0.0d0 0.0d0 0.0d0 ">
              <xs:annotation>
                <xs:documentation> Allows to apply a constant B field This is a constant magnetic
                  field applied throughout the entire unit cell and enters the second-variational
                  Hamiltonian as <displaymath>\frac{g_e\alpha}{4}\,\vec{\sigma}\cdot{\bf B}_{\rm
                    ext},</displaymath> where <inlinemath>g_e</inlinemath> is the electron
                    <inlinemath>g</inlinemath>-factor (2.0023193043718). This field is normally used
                  to break spin symmetry for spin-polarised calculations and considered to be
                  infinitesimal with no direct contribution to the total energy. In cases where the
                  magnetic field is finite (for example when computing magnetic response) the
                  external <inlinemath>{ \bf B}</inlinemath>-field energy reported in
                  <filename>INFO.OUT</filename> should be added to the total by hand. This field is applied
                  throughout the entire unit cell. To apply magnetic fields in particular
                  muffin-tins use the <attref>bfcmt</attref> vectors in the <elementref>atom</elementref> elements.
                  Collinear calculations are more efficient if the field is applied in the
                    <inlinemath>z</inlinemath>-direction. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" name="spinorb" type="xs:boolean">
              <xs:annotation>
                <xs:documentation> If <attref>spinorb</attref> is <pre>"true"</pre>, then a
                    <inlinemath>\boldsymbol \sigma\cdot{ \bf L}</inlinemath> term is added to the
                  second-variational Hamiltonian. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="spinsprl" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation> Set to <pre>"true"</pre> if a spin-spiral calculation is
                  required. Experimental feature for the calculation of spin-spiral states. See
                    <attref>vqlss</attref> for details. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="vqlss" type="vect3d" default="0.0d0 0.0d0 0.0d0">
              <xs:annotation>
                <xs:documentation> Is the <inlinemath>{ \bf q}</inlinemath>-vector of the
                  spin-spiral state in lattice coordinates. Spin-spirals arise from spinor states
                  assumed to be of the form <displaymath> \Psi^{ \bf q}_{ \bf k}({ \bf r})= \left(
                    \begin{array}{c} U^{{\bf q}\uparrow}_{ \bf k}({\bf r})e^{i({ \bf k+q/2})\cdot{
                    \bf r}} \\ U^{{ \bf q}\downarrow}_{\bf k}({ \bf r})e^{i({\bf k-q/2})\cdot{ \bf
                    r}} \\ \end{array} \right). </displaymath> These are determined using a
                  second-variational approach, and give rise to a magnetization density of the form
                    <displaymath> {\bf m}^{ \bf q}({ \bf r})=(m_x({\bf r})\cos({ \bf q \cdot r}),
                    m_y({\bf r})\sin({ \bf q \cdot r}),m_z({\bf r})), </displaymath> where
                    <inlinemath>m_x</inlinemath>, <inlinemath>m_y</inlinemath> and
                    <inlinemath>m_z</inlinemath> are lattice periodic. See also
                    <attref>spinsprl</attref>. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="taufsm" type="fortrandouble" default="0.01d0"/>
            <xs:attribute ex:importance="expert" ex:unit="" name="reducebf" type="fortrandouble" default="1.0d0">
              <xs:annotation>
                <xs:documentation> After each iteration the external magnetic fields are multiplied
                  with reducebf. This al- lows for a large external magnetic field at the start of
                  the self-consistent loop to break spin symmetry, while at the end of the loop the
                  field will be effectively zero, i.e. infinitesimal. See <attref>bfieldc</attref>
                  and atom element. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" name="fixspin" default="none">
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="none">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>0</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="total FSM">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>1</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="localmt FSM">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>2</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="both">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>3</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="experimental" ex:unit="" name="HartreeFock" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>If preset Hartree-Fock calculation is triggered.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="Hartree" name="epsengy" type="fortrandouble" use="optional" default="1.0d-4">
              <xs:annotation>
                <xs:documentation>Energy convergence tolerance.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="solver" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>Optional configuration options for eigenvector
              solver.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="type" default="Lapack">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>solvertype</oldname>
                </xs:appinfo>
                <xs:documentation>Selects the eigenvalue solver for the first variational
                  equation</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="Lapack">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>1</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="Arpack">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>2</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <!-- xs:enumeration value="DIIS">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>3</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration-->
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="packedmatrixstorage" type="xs:boolean" use="optional" default="false">
              <xs:annotation>
                <xs:documentation> In the default calculation the matrix is sored in packed form.
                  When using multi-threaded BLAS setting this parameter to <pre>"false"</pre>
                  increases efficiency. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="epsarpack" type="fortrandouble" default="1.0d-8">
              <xs:annotation>
                <xs:documentation>Tolerance parameter for the ARPACK shift invert
                  solver</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="Hartree" name="evaltol" type="fortrandouble" default="1.0d-8">
              <xs:annotation>
                <xs:documentation>Error tolerance for the first-variational eigenvalues using the
                  LAPACK Solver</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="OEP" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <!--xs:documentation>If present exact exchange calculation is triggered.
              (experimental)</xs:documentation-->
            <xs:documentation>Necessary, if exact exchange calculation is to be performed.
              </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="maxitoep" type="xs:integer" default="120">
              <xs:annotation>
                <xs:documentation>Maximum number of iterations when solving the exact exchange
                  integral equations.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="tauoep" type="vect3d" default="1.0d0 0.2d0 1.5d0">
              <xs:annotation>
                <xs:documentation> The optimised effective potential is determined using an
                  iterative method. <it>Phys. Rev. Lett.</it>
                <bf>98</bf>, 196405 (2007). At the first iteration
                  the step length is set to tauoep(1). During subsequent iterations, the step
                  length is scaled by tauoep(2) or tauoep(3), when the residual is increasing or
                  decreasing, respectively. See also <attref>maxitoep</attref>. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="experimental" ex:unit="" name="RDMFT" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>If present Reduced Density Matrix Funcional Theory calculation is
              triggered</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="rdmxctype" type="xs:integer" default="2">
              <xs:annotation>
                <xs:documentation>XC functional.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="rdmmaxscl" type="xs:integer" default="1">
              <xs:annotation>
                <xs:documentation>maximum number of self-consistent loops.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="maxitn" type="xs:integer" default="250">
              <xs:annotation>
                <xs:documentation>maximum number of iteration for occupation number
                  optimization.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="maxitc" type="xs:integer" default="10">
              <xs:annotation>
                <xs:documentation>maximum number of iteration for natural orbital
                  optimization.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="taurdmn" type="fortrandouble" default="1.0d0">
              <xs:annotation>
                <xs:documentation>step size for occupation numbers.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="taurdmc" type="fortrandouble" default="0.5d0">
              <xs:annotation>
                <xs:documentation>Step size for natural orbital coefficients.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="rdmalpha" type="fortrandouble" default="0.7d0">
              <xs:annotation>
                <xs:documentation>exponent for the functional.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="rdmtemp" type="fortrandouble" default="0.0d0">
              <xs:annotation>
                <xs:documentation>temperature.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="output" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>Specifications on the file formats for output
              files.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="state" default="binary">
              <xs:annotation>
                <xs:documentation>Selects the file format of the STATE file.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="binary"/>
                  <xs:enumeration value="XML"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element maxOccurs="1" minOccurs="0" name="libxc">
          <xs:complexType>
            <xs:attribute default="XC_GGA_X_PBE" name="exchange" use="optional">
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="XC_LDA_X">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 1 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Exchange</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_X_2D">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 19 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Exchange in 2D</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_PBE">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>101 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew, Burke &amp; Ernzerhof exchange </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_PBE_R">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>102 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew, Burke &amp; Ernzerhof exchange (revised)
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_B86">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>103 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 86 Xalfa,beta,gamma</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_B86_R">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>104 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 86 Xalfa,beta,gamma (reoptimized)</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_B86_MGC">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>105 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 86 Xalfa,beta,gamma (with mod. grad.
                        correction)</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_B88">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>106 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 88</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_G96">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>107 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Gill 96</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_PW86">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>108 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew &amp; Wang 86 </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_PW91">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>109 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew &amp; Wang 91 </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_OPTX">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>110 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Handy &amp; Cohen OPTX 01 </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_DK87_R1">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>111 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> dePristo &amp; Kress 87 (version R1) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_DK87_R2">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>112 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> dePristo &amp; Kress 87 (version R2) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_LG93">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>113 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Lacks &amp; Gordon 93 </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_FT97_A">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>114 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Filatov &amp; Thiel 97 (version A) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_FT97_B">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>115 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Filatov &amp; Thiel 97 (version B) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_PBE_SOL">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>116 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew, Burke &amp; Ernzerhof exchange (solids)
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_RPBE">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>117 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Hammer, Hansen &amp; Norskov (PBE-like) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_WC">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>118 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Wu &amp;amp; Cohen </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_mPW91">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>119 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Modified form of PW91 by Adamo &amp; Barone
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_AM05">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>120 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Armiento &amp; Mattsson 05 exchange </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_PBEA">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>121 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Madsen (PBE-like)</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_MPBE">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>122 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Adamo &amp; Barone modification to PBE </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_XPBE">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>123 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> xPBE reparametrization by Xu &amp; Goddard
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_2D_B86_MGC">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>124 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 86 MGC for 2D systems</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_BAYESIAN">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>125 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Bayesian best fit for the enhancement
                        factor</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_X_PBE_JSJR">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>126 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> JSJR reparametrization by Pedroza, Silva &amp; Capelle
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <!-- as MGGA is not supported <xs:enumeration value="XC_MGGA_X_LTA"> <xs:annotation> <xs:appinfo> <oldnr>201 </oldnr> </xs:appinfo> <xs:documentation> 
                    Local tau approximation of Ernzerhof &amp; Scuseria </xs:documentation> </xs:annotation> </xs:enumeration> <xs:enumeration value="XC_MGGA_X_TPSS"> <xs:annotation> 
                    <xs:appinfo> <oldnr>202 </oldnr> </xs:appinfo> <xs:documentation> Perdew, Tao, Staroverov &amp; Scuseria exchange </xs:documentation> </xs:annotation> </xs:enumeration> 
                    <xs:enumeration value="XC_MGGA_X_M06L"> <xs:annotation> <xs:appinfo> <oldnr>203 </oldnr> </xs:appinfo> <xs:documentation> Zhao, Truhlar exchange </xs:documentation> 
                    </xs:annotation> </xs:enumeration> <xs:enumeration value="XC_MGGA_X_GVT4"> <xs:annotation> <xs:appinfo> <oldnr>204 </oldnr> </xs:appinfo> <xs:documentation> GVT4 
                    from Van Voorhis and Scuseria (exchange part) </xs:documentation> </xs:annotation> </xs:enumeration> <xs:enumeration value="XC_MGGA_X_TAU_HCTH"> <xs:annotation> 
                    <xs:appinfo> <oldnr>205 </oldnr> </xs:appinfo> <xs:documentation> tau-HCTH from Boese and Handy </xs:documentation> </xs:annotation> </xs:enumeration> <xs:enumeration 
                    value="XC_MGGA_X_BR89"> <xs:annotation> <xs:appinfo> <oldnr>206 </oldnr> </xs:appinfo> <xs:documentation> Becke-Roussel 89 </xs:documentation> </xs:annotation> </xs:enumeration> 
                    <xs:enumeration value="XC_MGGA_X_BJ06"> <xs:annotation> <xs:appinfo> <oldnr>207 </oldnr> </xs:appinfo> <xs:documentation> Becke &amp; Johnson correction to Becke-Roussel 
                    89 </xs:documentation> </xs:annotation> </xs:enumeration> <xs:enumeration value="XC_MGGA_X_TB09"> <xs:annotation> <xs:appinfo> <oldnr>208 </oldnr> </xs:appinfo> 
                    <xs:documentation> Tran &amp; Blaha correction to Becke &amp; Johnson </xs:documentation> </xs:annotation> </xs:enumeration> -->
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
            <xs:attribute default="XC_GGA_C_PBE" name="correlation" use="optional">
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="XC_LDA_C_WIGNER">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 2 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Wigner parametrization</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_RPA">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 3 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Random Phase Approximation</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_HL">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 4 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Hedin &amp; Lundqvist </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_GL">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 5 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Gunnarson &amp; Lundqvist </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_XALPHA">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 6 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Slaters Xalpha</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_VWN">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 7 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Vosko, Wilk, &amp; Nussair </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_VWN_RPA">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 8 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Vosko, Wilk, &amp; Nussair (RPA) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_PZ">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 9 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew &amp; Zunger </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_PZ_MOD">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 10 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew &amp; Zunger (Modified) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_OB_PZ">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 11 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Ortiz &amp; Ballone (PZ) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_PW">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 12 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew &amp; Wang </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_PW_MOD">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 13 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew &amp; Wang (Modified) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_OB_PW">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 14 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Ortiz &amp; Ballone (PW) </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_2D_AMGB">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 15 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Attacalite et al</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_2D_PRM">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 16 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Pittalis, Rasanen &amp; Marques correlation in 2D
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_vBH">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 17 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> von Barth &amp; Hedin </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_LDA_C_1D_CSC">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 18 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Casula, Sorella, and Senatore 1D
                        correlation</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_PBE">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>130 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew, Burke &amp; Ernzerhof correlation
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_LYP">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>131 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Lee, Yang &amp; Parr </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_P86">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>132 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew 86</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_PBE_SOL">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>133 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew, Burke &amp; Ernzerhof correlation SOL
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_PW91">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>134 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew &amp; Wang 91 </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_AM05">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>135 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Armiento &amp; Mattsson 05 correlation </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_XPBE">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>136 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> xPBE reparametrization by Xu &amp; Goddard
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_LM">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>137 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Langreth and Mehl correlation</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_C_PBE_JRGX">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>138 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> JRGX reparametrization by Pedroza, Silva &amp; Capelle
                      </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <!-- <xs:enumeration value="XC_MGGA_C_TPSS"> <xs:annotation> <xs:appinfo> <oldnr>231 </oldnr> </xs:appinfo> <xs:documentation> Perdew, Tao, Staroverov 
                    &amp; Scuseria correlation </xs:documentation> </xs:annotation> </xs:enumeration> <xs:enumeration value="XC_MGGA_C_VSXC"> <xs:annotation> <xs:appinfo> <oldnr>232 
                    </oldnr> </xs:appinfo> <xs:documentation> VSxc from Van Voorhis and Scuseria (correlation part) </xs:documentation> </xs:annotation> </xs:enumeration> -->
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
            <xs:attribute default="none" name="xc" use="optional">
              <xs:annotation>
                <xs:documentation> Combined functionals. If set it overrides the exchange and the
                  correlation attributes. The hybrid functionals can be configured but are not supported. They may give nonsense results.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="none">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>0</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_LB">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 160 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> van Leeuwen &amp; Baerends </xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_HCTH_93">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 161 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> HCTH functional fitted to 93 molecules</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_HCTH_120">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 162 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> HCTH functional fitted to 120 molecules</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_HCTH_147">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 163 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> HCTH functional fitted to 147 molecules</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_HCTH_407">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 164 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> HCTH functional fitted to 147 molecules</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_EDF1">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 165 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Empirical functionals from Adamson, Gill, and
                        Pople</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_XLYP">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 166 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> XLYP functional</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_B97">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 167 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_B97_1">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 168 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97-1</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_B97_2">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 169 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97-2</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_B97_D">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 170 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Grimme functional to be used with C6 vdW
                        term</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_B97_K">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 171 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Boese-Martin for Kinetics</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_B97_3">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 172 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97-3</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_PBE1W">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 173 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Functionals fitted for water</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_MPWLYP1W">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 174 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Functionals fitted for water</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_PBELYP1W">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 175 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Functionals fitted for water</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_SB98_1a">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 176 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 1a</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_SB98_1b">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 177 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 1b</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_SB98_1c">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 178 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 1c</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_SB98_2a">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 179 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 2a</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_SB98_2b">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 180 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 2b</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_GGA_XC_SB98_2c">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 181 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 2c</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B3PW91">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 401 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> The original hybrid proposed by Becke</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B3LYP">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 402 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> The (in)famous B3LYP</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B3P86">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 403 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Perdew 86 hybrid similar to B3PW91</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_O3LYP">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 404 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> hybrid using the optx functional</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_mPW1K">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 405 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> mixture of mPW91 and PW91 optimized for
                        kinetics</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_PBEH">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 406 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> aka PBE0 or PBE1PBE</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B97">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 407 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B97_1">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 408 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97-1</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B97_2">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 410 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97-2</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_X3LYP">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 411 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> maybe the best hybrid</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B1WC">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 412 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 1-parameter mixture of WC and PBE</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B97_K">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 413 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Boese-Martin for Kinetics</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B97_3">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 414 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 97-3</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_mPW3PW">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 415 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> mixture with the mPW functional</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B1LYP">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 416 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 1-parameter mixture of B88 and LYP</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_B1PW91">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 417 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 1-parameter mixture of B88 and
                        PW91</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_mPW1PW">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 418 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Becke 1-parameter mixture of mPW91 and
                        PW91</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_mPW3LYP">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 419 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> mixture of mPW and LYP</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_SB98_1a">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 420 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 1a</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_SB98_1b">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 421 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 1b</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_SB98_1c">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 422 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 1c</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_SB98_2a">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 423 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 2a</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_SB98_2b">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 424 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 2b</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="XC_HYB_GGA_XC_SB98_2c">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr> 425 </oldnr>
                      </xs:appinfo>
                      <xs:documentation> Schmider-Becke 98 parameterization 2c</xs:documentation>
                    </xs:annotation>
                  </xs:enumeration>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
      </xs:all>
      <xs:attribute ex:importance="expert" ex:unit="" name="do" default="fromscratch">
        <xs:annotation>
          <xs:appinfo>
            <oldname>nonreplace</oldname>
          </xs:appinfo>
          <xs:documentation> Decides if the ground state is calculated starting from scratch, using
            the densities from file or if it is skipped and only its associated input parameters are
            read in. Also applies fo structural optimization run.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="fromscratch"/>
            <xs:enumeration value="fromfile"/>
            <xs:enumeration value="skip"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="ngridk" type="integertriple" use="required">
        <xs:annotation>
          <xs:appinfo>
            <oldname>ngridk</oldname>
          </xs:appinfo>
          <xs:documentation>Number of k grid points along the basis vector
            directions.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="rgkmax" type="fortrandouble" default="7.0d0">
        <xs:annotation>
          <xs:documentation> The parameter <attref>rgkmax</attref> implicitly determines the number of
            basis functions and is one of the crucial parameters for the accuracy of the
            calculation. It represents the product of two quantities: <inlinemath>R_{MT,\,
              Min}</inlinemath>, the smallest of all muffin-tin radii, and <inlinemath>|{ \bf G}+{
              \bf k}|_{max}</inlinemath>, the maximum length for the <inlinemath>{ \bf G}+{ \bf
              k}</inlinemath>  vectors. Because each <inlinemath>{ \bf G}+{ \bf k}</inlinemath> 
            vector represents one basis function, <attref>rgkmax</attref> gives the number of basis
            functions used for solving the Kohn-Sham equations. Typical values of <attref>rgkmax</attref>
            are between 6 and 9. However, for systems with very short bond-lengths, significantly
            smaller values may be sufficient. This may especially be the case for materials
            containing carbon, where <attref>rgkmax</attref> may be 4.5-5, or hydrogen, where even values
            between 3 and 4 may be sufficient. In any case, a convergence check is indispensible for
            a proper choice of this parameter for your system! </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="epspot" type="fortrandouble" use="optional" default="1.0d-6">
        <xs:annotation>
          <xs:documentation> If the RMS change in the effective potential and magnetic field is
            smaller than <attref>epspot</attref>, then the self-consistent loop is considered converged
            and exited. For structural optimization runs this results in the forces being
            calculated, the atomic positions updated and the loop restarted. See also
              <attref>maxscl</attref>. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Hartree" name="epsengy" type="fortrandouble" use="optional" default="1.0d-4">
        <xs:annotation>
          <xs:documentation>Energy convergence tolerance.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" ref="epsforce" default="5.0d-5">
        <xs:annotation>
          <xs:documentation>Convergence tolerance for the forces during the SCF
            run.</xs:documentation>
        </xs:annotation>
      </xs:attribute>

      <xs:attribute ex:importance="essential" ex:unit="Hartree" name="swidth" type="fortrandouble" default="0.001d0">
        <xs:annotation>
          <xs:documentation>Width of the smooth approximation to the Dirac delta function (must be
            greater than zero).</xs:documentation>
          <xs:appinfo>
            <olddefault default="0.01d0"/>
          </xs:appinfo>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="stype" default="Gaussian">
        <xs:annotation>
          <xs:documentation> A smooth approximation to the Dirac delta function is needed to compute
            the occupancies of the Kohn-Sham states. The attribute <attref>swidth</attref> determines the
            width of the approximate delta function. </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="Gaussian">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>0</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="Methfessel-Paxton 1">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>1</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="Methfessel-Paxton 2">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>2</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="Fermi Dirac">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>3</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="Square-wave impulse">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>4</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="findlinentype" default="advanced">
        <xs:annotation>
          <xs:documentation>Select method to determine the linearisation
            energies.</xs:documentation>
          <xs:appinfo>
            <olddefault default="advanced"/>
          </xs:appinfo>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="simple"/>
            <xs:enumeration value="advanced"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="fermilinengy" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> If <pre>"true"</pre> the linearization energies marked as non-varying
            are set to the Fermi level plus <attref>dlinengyfermi</attref>. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="isgkmax" type="xs:integer" default="-1">
        <xs:annotation>
          <xs:documentation>Species for which the muffin-tin radius will be used for calculating
            gkmax.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="gmaxvr" type="fortrandouble" default="12.0d0">
        <xs:annotation>
          <xs:documentation>Maximum length of |G| for expanding the interstitial density and
            potential.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="nempty" type="xs:integer" default="5">
        <xs:annotation>
          <xs:documentation> Defines the number of eigenstates beyond that required for charge
            neutrality. When running metals it is not known <it>a priori</it> how many states will
            be below the Fermi energy for each <bf>k</bf>-point. Setting <attref>nempty</attref> greater
            than zero allows the additional states to act as a buffer in such cases. Furthermore,
            magnetic calculations use the first-variational eigenstates as a basis for setting up
            the second-variational Hamiltonian, and thus <attref>nempty</attref> will determine the size
            of this basis set. Convergence with respect to this quantity should be checked.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="nosym" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> When set to <pre>"true"</pre> no symmetries, apart from the identity,
            are used anywhere in the code. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" ref="symmorph" default="false">
        <xs:annotation>
          <xs:documentation> When set to <pre>"true"</pre> only symmorphic space-group operations
            are to be considered, i.e. only symmetries without non-primitive translations are used
            anywhere in the code. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="frozencore" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> When set to <pre>"true"</pre> the frozen core approximation is applied,
            i.e., the core states are fixed to the atomic states. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="autokpt" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation>If  <pre>"true"</pre>, the set of <bf>k</bf>-points is determined 
          automatically according to the total 
            number of required <bf>k</bf>-points given by <attref>nktot</attref>.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="radkpt" type="fortrandouble" default="40.0d0">
        <xs:annotation>
          <xs:documentation> Used for the automatic determination of the <bf>k</bf>-point mesh. If
            <attref>autokpt</attref> is set to <pre>"true"</pre> then the mesh sizes will be determined by
              <inlinemath>n_i=\lambda/|{ \bf A}_i|+1</inlinemath>. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="nktot" type="xs:integer" default="0">
        <xs:annotation>
          <xs:documentation> Used for the automatic determination of the <inlinemath>{\mathbf k}</inlinemath>-point mesh from the total
            number of <bf nospace="true">k</bf>-points. If <attref>nktot</attref> is set, then the mesh
            will be determined in such a way that the number of <bf>k</bf>-points is proportional to
            the length of the reciprocal lattice vector in each direction and that the total number
            of <bf nospace="true">k</bf>-points is less than or equal to <attref>nktot</attref>.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="reducek" type="xs:boolean" default="true">
        <xs:annotation>
          <xs:documentation> If the attribute <attref>reducek</attref> is <pre>"true"</pre> the
              <inlinemath> \bf{k} </inlinemath>-point set is reduced with the crystal symmetries.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" ref="tfibs" default="true">
        <xs:annotation>
          <xs:documentation> Because calculation of the incomplete basis set (IBS) correction to the
            force is fairly time- consuming, it can be switched off by setting tfibs to
            <pre>"false"</pre> This correction can then be included only when necessary, i.e. when
            the atoms are close to equilibrium in a structural relaxation run. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" ref="tforce" default="false">
        <xs:annotation>
          <xs:documentation>Decides if the force should be calculated at the end of the
            self-consistent cycle.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxapw" type="xs:integer" default="10">
        <xs:annotation>
          <xs:documentation>Angular momentum cut-off for the APW functions.</xs:documentation>
          <xs:appinfo>
            <olddefault default="8"/>
          </xs:appinfo>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="maxscl" type="xs:integer" default="200">
        <xs:annotation>
          <xs:documentation>Upper limit for te self-consistency loop.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="chgexs" type="fortrandouble" default="0.0d0">
        <xs:annotation>
          <xs:documentation> This controls the amount of charge in the unit cell beyond that
            required to maintain neutrality. It can be set positive or negative depending on
            whether electron or hole doping is required.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Hartree" name="deband" type="fortrandouble" default="0.0025d0">
        <xs:annotation>
          <xs:documentation> Initial band energy step size The initial step length used when
            searching for the band energy, which is used as the APW linearisation energy. This is
            done by first searching upwards in energy until the radial wave-function at the
            muffin-tin radius is zero. This is the energy at the top of the band, denoted
              <inlinemath>E_{\rm t}</inlinemath>. A downward search is now performed from
              <inlinemath>E_{\rm t}</inlinemath> until the slope of the radial wave-function at the
            muffin-tin radius is zero. This energy, <inlinemath>E_{\rm b}</inlinemath>, is at the
            bottom of the band. The band energy is taken as <inlinemath>(E_{\rm t}+E_{\rm
              b})/2</inlinemath>. If either <inlinemath>E_{\rm t}</inlinemath> or <inlinemath>E_{\rm
              b}</inlinemath> cannot be found then the band energy is set to the default value.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Hartree" name="epsband" type="fortrandouble" default="1.0d-6">
        <xs:annotation>
          <xs:documentation>Energy tolerance for search of linearisation
            energies.</xs:documentation>
          <xs:appinfo>
            <oldname>none</oldname>
            <olddefault default="1.0d-5"/>
          </xs:appinfo>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Hartree" name="dlinengyfermi" type="fortrandouble" default="-0.1d0">
        <xs:annotation>
          <xs:documentation>Energy difference between linearisation and Fermi
            energy.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="epschg" type="fortrandouble" default="1.0d-3">
        <xs:annotation>
          <xs:documentation>Maximum allowed error in the calculated total charge beyond which a
            warning message will be issued.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="epsocc" type="fortrandouble" default="1.0d-8">
        <xs:annotation>
          <xs:documentation>smallest occupancy for which a state will contribute to the
            density.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="mixer" default="msec">
        <xs:annotation>
          <xs:documentation>
          Select the mixing (relaxation) scheme for the SCF loop. One has the following options:
         <p/>
        <bf>Linear mixer</bf> (<pre>"lin"</pre>):
        <p/>
   Given the input  <inlinemath>\mu^i</inlinemath> and output   <inlinemath>\nu^i</inlinemath> 
   vectors of the <inlinemath>i</inlinemath>th
  iteration,  the next input vector to the
    (<inlinemath>i+1</inlinemath>)th iteration is generated using an adaptive mixing scheme.
    The <inlinemath>j</inlinemath>th component of the output
   vector is mixed with a fraction of the same component of the input vector:
   <displaymath>\mu^{i+1}_j=\beta^i_j\nu^i_j+(1-\beta^i_j)\mu^i_j, </displaymath>
   where <inlinemath>\beta^i_j</inlinemath> is set to <inlinemath>\beta_0</inlinemath> at initialisation and increased by
   scaling with <inlinemath>\beta_{\rm inc}</inlinemath> (<inlinemath>&gt;1</inlinemath>) if <inlinemath>f^i_j\equiv\nu^i_j-\mu^i_j</inlinemath> does
   not change sign between loops. If <inlinemath>f^i_j</inlinemath> does change sign, then <inlinemath>\beta^i_j</inlinemath>
   is scaled by <inlinemath>\beta_{\rm dec}</inlinemath> (<inlinemath>&gt;1</inlinemath>).
          <p/> 
          <bf>Multisecant Broyden potential mixing</bf> (<pre>"msec"</pre>)
          <p/>
          <bf>Pulay mixing</bf> (<pre>"pulay"</pre>):
          <p/>
          Pulay's mixing scheme which uses direct inversion in the iterative subspace (DIIS). See <it>Chem. Phys. Lett.</it> <bf>73</bf>, 393 (1980).
          </xs:documentation>
          <xs:appinfo>
            <oldname>mixtype</oldname>
            <olddefault default="lin"/>
          </xs:appinfo>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="lin">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>1</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="msec">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>2</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="pulay">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>3</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="beta0" type="fortrandouble" default="0.4d0">
        <xs:annotation>
          <xs:documentation>Initial value for mixing parameter. Used in linear
            mixing as choosen with <attref>mixer</attref>.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="betainc" type="fortrandouble" default="1.1d0">
        <xs:annotation>
          <xs:documentation>Mixing parameter increase. Used in linear mixing.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="betadec" type="fortrandouble" default="0.6d0">
        <xs:annotation>
          <xs:documentation>Mixing parameter decrease. Used in linear mixing.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lradstep" type="xs:integer" default="4">
        <xs:annotation>
          <xs:documentation> Some muffin-tin functions (such as the density) are calculated on a
            coarse radial mesh and then interpolated onto a fine mesh. This is done for the sake of
            efficiency. lradstp defines the step size in going from the fine to the coarse radial
            mesh. If it is too large, loss of precision may occur.</xs:documentation>
          <xs:appinfo>
            <oldname>lradstp</oldname>
          </xs:appinfo>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="nprad" type="xs:integer" default="4">
        <xs:annotation>
          <xs:documentation>Order of predictor-corrector polynomial.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="" name="xctype" default="GGAPBEsol">
        <xs:annotation>
          <xs:documentation> Type of exchange-correlation functional to be used <list>
              <li> No exchange-correlation funtional ( <inlinemath>E_{\rm xc}\equiv 0</inlinemath> ) </li>
              <li> LDA, Perdew-Zunger/Ceperley-Alder, <it>Phys. Rev. B</it>
                <bf>23</bf>, 5048 (1981) </li>
              <li> LSDA, Perdew-Wang/Ceperley-Alder, <it>Phys. Rev. B</it>
                <bf>45</bf>, 13244 (1992) </li>
              <li> LDA, X-alpha approximation, J. C. Slater, <it>Phys. Rev.</it>
                <bf>81</bf>, 385 (1951) </li>
              <li> LSDA, von Barth-Hedin, <it>J. Phys. C</it>
                <bf>5</bf>, 1629 (1972) </li>
              <li> GGA, Perdew-Burke-Ernzerhof, <it>Phys. Rev. Lett.</it>
                <bf>77</bf>, 3865 (1996) </li>
              <li> GGA, Revised PBE, Zhang-Yang, <it>Phys. Rev. Lett.</it>
                <bf>80</bf>, 890 (1998) </li>
              <li> GGA, PBEsol, arXiv:0707.2088v1 (2007) </li>
              <li> GGA, Wu-Cohen exchange (WC06) with PBE correlation, <it>Phys. Rev. B</it>
                <bf>73</bf>, 235116 (2006) </li>
              <li> GGA, Armiento-Mattsson (AM05) spin-unpolarised functional, <it>Phys. Rev. B</it>
                <bf>72</bf>, 085108 (2005) </li>
              <li> EXX, Exact Exchange, <it>Phys. Rev. Lett.</it>
                <bf>95</bf>, 136402 (2005) </li>
            </list>
		If EXX is chosen, the element <elementref>OEP</elementref> has to be specified.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="LDAPerdew-Zunger">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>2</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="LSDAPerdew-Wang">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>3</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="LDA-X-alpha">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>4</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="LSDA-Barth-Hedin">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>5</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="GGAPerdew-Burke-Ernzerhof">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>20</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="GGArevPBE">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>21</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="GGAPBEsol">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>22</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="GGA-Wu-Cohen">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>26</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="GGAArmiento-Mattsson">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>30</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="EXX">
              <xs:annotation>
                <xs:appinfo><!-- set to "-2" or lower for EXX -->
                  <oldnr>-1</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="none">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>1</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="ldapu" default="none">
        <xs:annotation>
          <xs:documentation>Type of LDA+U method to be used.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="none">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>0</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="FullyLocalisedLimit">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>1</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="AroundMeanField">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>2</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="FFL-AMF-interpolation">
              <xs:annotation>
                <xs:appinfo>
                  <oldnr>3</oldnr>
                </xs:appinfo>
              </xs:annotation>
            </xs:enumeration>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxvr" type="xs:integer" default="6">
        <xs:annotation>
          <xs:documentation>Angular momentum cut-off for the muffin-tin density and
            potential.</xs:documentation>
          <xs:appinfo>
            <olddefault default="7"/>
          </xs:appinfo>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="fracinr" type="fortrandouble" default="0.25d0">
        <xs:annotation>
          <xs:documentation>Fraction of the muffin-tin radius up to which lmaxinr is used as the
            angular momentum cut-off.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxinr" type="xs:integer" default="2">
        <xs:annotation>
          <xs:documentation> Close to the nucleus, the density and potential is almost spherical and
            therefore the spherical harmonic expansion can be truncated a low angular momentum. See
            also <attref>fracinr</attref>. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxmat" type="xs:integer" default="5">
        <xs:annotation>
          <xs:documentation>Angular momentum cut-off for the outer-most loop in the hamiltonian and
            overlap matrix setup.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="vkloff" type="vect3d" default="0.0d0 0.0d0 0.0d0">
        <xs:annotation>
          <xs:documentation>The <inlinemath>{\mathbf k}</inlinemath>-point offset vector in lattice coordinates.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="npsden" type="xs:integer" default="9">
        <xs:annotation>
          <xs:documentation>oOrder of polynomial for pseudo-charge density.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="cfdamp" type="fortrandouble" default="0.0d0">
        <xs:annotation>
          <xs:documentation>Damping coefficient for characteristic function.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="nosource" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> When set to <pre>"true"</pre>, source fields are projected out of the
            exchange-correlation magnetic field. experimental feature. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="tevecsv" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation> The attribute tevecsv is <pre>"true"</pre> if second-variational
            eigenvectors are calculated. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="nwrite" type="xs:integer" default="0">
        <xs:annotation>
          <xs:documentation> Normally, the density and potentials are written to the file STATE.OUT
            only after com- pletion of the self-consistent loop. By setting nwrite to a positive
            integer the file will be written during the loop every nwrite
            iterations.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="ptnucl" type="xs:boolean" default="true">
        <xs:annotation>
          <xs:documentation> The attrubute ptnucl is <pre>"true"</pre> if the nuclei are to be
            treated as point charges, if <pre>"false"</pre> the nuclei have a finite spherical
            distribution. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="tetra" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation>
            The attrubute <pre>"tetra"</pre> determines whether LIBBZINT library is used 
            for k-/q-point generation and integration (experimental option).
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:annotation>
        <xs:appinfo>
            <parent>/input</parent>
            <root>structureoptimization</root>
        </xs:appinfo>
    </xs:annotation>
  <xs:element ex:importance="essential" ex:unit="" name="structureoptimization">
        <xs:annotation>
            <xs:documentation>The element <elementref>structureoptimization</elementref> activates the optimization 
            of atomic postions.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:annotation>
                <xs:documentation> Structural optimization run. Atomic positions are written to
                    <pre>geometry.xml</pre>. </xs:documentation>
            </xs:annotation>
            <xs:attribute ex:importance="essential" ex:unit="" ref="epsforce" default="5.0d-5">
                <xs:annotation>
                    <xs:documentation>Convergence tolerance for the forces during a structural
                        optimization run.</xs:documentation>
                    <xs:appinfo>
                        <olddefault default="5.0d-4"/>
                    </xs:appinfo>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="tau0atm" type="fortrandouble" default="0.2d0">
                <xs:annotation>
                    <xs:documentation> Parameter determining the step size for structural optimization.<p/>                     
                    In each step <inlinemath>m</inlinemath> of a structural optimization run,                     
                    atom <inlinemath>\alpha</inlinemath> is displaced according to
                    
                            <displaymath>{\bf r}_{\alpha}^{m+1}={\bf r}_{\alpha}^m+\tau_{\alpha}^m
                            \left({ \bf F}_{\alpha}^m+{ \bf F}_{\alpha}^{m-1}\right),</displaymath>
                    
                        i.e., the magnitude of the displacement in step <inlinemath>m</inlinemath> is proportional 
                        to <inlinemath>\tau_{\alpha}^m</inlinemath>. 
                        For the initial step, <inlinemath>\tau_{\alpha}^0</inlinemath> 
                        is set to <attref>tau0atm</attref>. 
                        
                        If the forces of two subsequent steps have the same sign,
                        <inlinemath>\tau_{\alpha}^m</inlinemath> is increased by 
                        <inlinemath>\tau_{\alpha}^0</inlinemath>. Otherwise, 
                        <inlinemath>\tau_{\alpha}^m</inlinemath> is reset to <inlinemath>\tau_{\alpha}^0</inlinemath>.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" name="resume" type="xs:boolean" default="false">
                <xs:annotation>
                    <xs:documentation> Resumption of a structural optimization run using the density in
                        <pre>STATE.OUT</pre>, but with positions from <pre>input.xml</pre>.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
  <xs:annotation>
        <xs:appinfo>
            <parent>/input</parent>
            <root>phonons</root>
        </xs:appinfo>
    </xs:annotation>
  <xs:element ex:importance="expert" ex:unit="" name="phonons">
       <xs:annotation>
           <xs:documentation><p>Compute the dynamical matrix.</p>
             <p>This is done by constructing a supercell (attributes <attref>ngridq</attref> and <attref>reduceq</attref>), displacing atoms in it and 
             obtaining the dynamical matrix from the forces. As all atoms are displaced four times in each direction, and this is done for every <inlinemath>{\bf q}</inlinemath>-point,
             phonon calculations can become quite tedious. If the calculation was done already at an earlier point, and an
             existing dynamical matrix should be reused, the attribute <attref>do</attref> allows to skip a fresh calculation. Note also that the calculation of the dynamical matrix can be run in parallel.</p>
             <p>To obtain phonon eigenvalues and eigenvectors for one
             or more <inlinemath>{\bf q}</inlinemath>-points, add one of the elements 
             <elementref>qpointset</elementref>, <elementref>interpolate</elementref>, <elementref>phonondispplot</elementref> or
              <elementref>phonondos</elementref>.</p></xs:documentation>
       </xs:annotation>
          <xs:complexType>
             <xs:all>
                <xs:element ex:importance="expert" ex:unit="" ref="qpointset" minOccurs="0" maxOccurs="1"/>
                <xs:element ex:importance="expert" ex:unit="" name="phonondos" maxOccurs="1" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation> <p>Compute the phonon density of states (DOS) <inlinemath>g(\omega)</inlinemath> and thermodynamical properties. This is done by calculating the
                        phonon eigenvalues on a dense grid, specified by <attref>ngrdos</attref>. The DOS is output to
                        file <pre>PHDOS.OUT</pre>. Note that <inlinemath>\int\limits_{\omega_{\rm min}}^{\omega_{\rm max}} d\omega\; g(\omega) = 3N_{\rm at}</inlinemath></p>
                        <p>From the DOS <inlinemath>g(\omega)</inlinemath> the following thermodynamical properties are obtained:
                        <list>
                        <li>the zero-point energy <inlinemath>E_{\rm ZP} = \frac{1}{2} \int\limits_{\omega_{\rm min}}^{\omega_{\rm max}}  
                                                                   d\omega\; \omega\, g(\omega)</inlinemath></li>
                        <li>the vibrational internal energy <inlinemath>E_{\rm vib} = \frac{1}{2}
                            \int\limits_{\omega_{\rm min}}^{\omega_{\rm max}} d\omega\; \omega\, g(\omega) \coth\frac{\omega}{2k_B T}</inlinemath></li> 
                        <li>the vibrational free energy <inlinemath>F_{\rm vib} = k_B T
                            \int\limits_{\omega_{\rm min}}^{\omega_{\rm max}} d\omega\; g(\omega) \log\left(2 \sinh \frac{\omega}{2k_B T}\right)</inlinemath></li>
                        <li>the vibrational entropy <inlinemath>S_{\rm vib} = \frac{E_{\rm vib}-F_{\rm vib}}{T}</inlinemath></li>
                        <li>the heat capacity <inlinemath>c = k_B
                            \int\limits_{\omega_{\rm min}}^{\omega_{\rm max}} d\omega\;  g(\omega)  \left(\frac{\omega}{k_B T}\right)^{\!\!\! 2} 
                            {\exp\left(\frac{\omega}{k_B T}\right)}{\left[\exp(\frac{\omega}{k_B T})-1\right]^{-2}}</inlinemath></li>
                        </list> 
                        where <inlinemath>N_{\rm at}</inlinemath> is the number of atoms in the unit cell. These quantities are computed for
                        the temperatures, specified by <attref>ntemp</attref> and written to files <pre>THERMO.OUT</pre> and
                        <pre>thermo.xml</pre>.</p>
                        </xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:attribute ex:importance="essential" ex:unit="" ref="nwdos" default="500"> 
                           <xs:annotation>
                              <xs:documentation>
                              Number of steps between the lowest and highest phonon frequency for the DOS.
                              </xs:documentation>
                           </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="essential" ex:unit="" ref="ngrdos" default="100"> 
                        <xs:annotation>
                              <xs:documentation>
                              Number of grid points in each lattice direction on which the eigenvalues are interpolated.
                              </xs:documentation>
                           </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" ref="nsmdos" default="0">
                        <xs:annotation>
                              <xs:documentation>
                              Number of 3-point averaging runs to smoothen the DOS. One run corresponds to setting the DOS value for
                              one frequency <inlinemath>g(\omega_i)</inlinemath> to the average <inlinemath>1/3\:\left[g(\omega_{i-1})+g(\omega_{i})+g(\omega_{i+1})\right]</inlinemath>.
                              </xs:documentation>
                           </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="ntemp" type="xs:integer" default="200">
                            <xs:annotation>
                                <xs:documentation>Number of temperatures in the range up to
                                    the maximal temperature <inlinemath>T_{\rm max}</inlinemath> for the calculation
                                    of the thermodynamical properties from the phonon DOS
                                    This corresponds to the maximal phonon frequency <inlinemath>\omega_{\rm max}</inlinemath> by 
                                    <inlinemath>T_{\rm max} = \omega_{\rm max} / k_B</inlinemath>. 
                                </xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element ex:importance="expert" ex:unit="" name="phonondispplot" maxOccurs="1" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Produce a phonon dispersion plot by interpolating phonon frequencies for points on
                        a path through the Brillouin zone. The frequencies for all phonon modes along the path are written to file
                        <pre>PHDISP.OUT</pre>, vertex lines are written to file <pre>PHDLINES.OUT</pre>. Use the element <elementref>plot1d</elementref>
                        to specify the path in reciprocal lattice vectors.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element ex:importance="expert" ex:unit="" ref="plot1d"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element ex:importance="expert" ex:unit="" name="reformatdynmat" maxOccurs="1" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation><p>Reads in the dynamical matrix rows from the corresponding
                            files and outputs them as <inlinemath>3\times 3</inlinemath> blocks for
                            each atom combination to the file <pre>DYNMAT.OUT</pre>.
                            A corrected dynamical matrix which fulfills the accoustic sumrule is output to the
                            file <pre>DYNMAT_SUMRULE.OUT</pre>.  
                            It is obtained by subtracting the three lowest eigenvectors from the original matrix:
                            <inlinemath>D_{ij}^{\bf q}\rightarrow D_{ij}^{\bf q}-\sum_{k=1}^3 \omega_k^0 v_{k;i}^0 v_{k;j}^0</inlinemath>
                            for all <inlinemath>{\bf q}</inlinemath>, where <inlinemath>\omega_k^0</inlinemath> 
                            is the <inlinemath>k</inlinemath>th eigenvalue of the <inlinemath>{\bf q}=0</inlinemath> dynamical matrix 
                            and <inlinemath>v_{k;i}^0</inlinemath> the <inlinemath>i</inlinemath>th component of its eigenvector.</p>
                            <p>Symmetrized forms are written to the files
                            <pre>DYNMAT_SYM.OUT</pre> and <pre>DYNMAT_SYM_SUMRULE.OUT</pre>.</p></xs:documentation>
                    </xs:annotation>
                </xs:element>
                <xs:element ex:importance="expert" ex:unit="" name="interpolate" maxOccurs="1" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Interpolates the phonon frequencies, and optionally eigenvectors, on a given <inlinemath>{\bf q}</inlinemath>-point
                            grid and outputs them to file <pre>PHONON_INTERPOLATE.OUT</pre>.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:attribute ex:importance="essential" ex:unit="" name="ngridq" type="integertriple" use="required">
                            <xs:annotation>
                                <xs:documentation><inlinemath>{\bf q}</inlinemath>-point grid for interpolation.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="vqloff" type="vect3d" default="0.0d0 0.0d0 0.0d0">
                            <xs:annotation>
                                <xs:documentation>The <inlinemath>{\bf q}</inlinemath>-point offset vector in lattice
                                    coordinates.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="writeeigenvectors" type="xs:boolean" default="false">
                            <xs:annotation>
                                <xs:documentation> Set to <pre>true</pre> if the phonon eigenvectors
                                    are to be interpolated and output in addition to the phonon
                                    frequencies. </xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element ex:importance="expert" ex:unit="" ref="parts" minOccurs="0" maxOccurs="1"/>
            </xs:all>
            <xs:attribute ex:importance="experimental" ex:unit="" name="phonontype" default="supercell">
                <xs:annotation>
                    <xs:appinfo>
                        <oldname>nonreplace</oldname>
                    </xs:appinfo>
                    <xs:documentation> Decides which method (supercell or linear response) is used
                        to perform the phonon calculation.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="supercell"/>
                        <xs:enumeration value="linearresponse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="do" default="fromscratch">
                <xs:annotation>
                    <xs:appinfo>
                        <oldname>nonreplace</oldname>
                    </xs:appinfo>
                    <xs:documentation> Specify if the phonon calculation is performed (value <pre>fromscratch</pre>)
                        or skipped (value <pre>skip</pre>.) In the latter case the dynamical matrix is read from files produced in a previous
                        run with the same parameters. The value <pre>fromscratch</pre> can also be used to continue an
                        incomplete calculation.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="fromscratch"/>
                        <xs:enumeration value="skip"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="ngridq" type="integertriple" use="required">
                <xs:annotation>
                    <xs:appinfo>
                        <oldname>ngridq</oldname>
                    </xs:appinfo>
                    <xs:documentation>Number of <inlinemath>{\bf q}</inlinemath> grid points along the basis vector
                        directions. This determines the size of the supercell.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="reduceq" type="xs:boolean" default="true">
                <xs:annotation>
                    <xs:documentation> The attribute <pre>reduceq</pre> is set to <pre>"true"</pre>
                        if the <inlinemath>{\bf q}</inlinemath>-point set is to be reduced with the crystal symmetries.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="deltaph" type="fortrandouble" default="0.03d0">
                <xs:annotation>
                    <xs:documentation><p>Phonon calculations are performed by constructing a supercell
                        corresponding to a particular <inlinemath>{\bf q}</inlinemath>-vector and
                        making small periodic sin- and cos-like displacements of the atoms. The amplitude of this
                        displacement, in cartesian coordinates for each component, is given by <pre>deltaph</pre> (in units of Bohr).
                        Additionally a displacement of <pre>2*deltaph</pre> is done, so in general each atom is displaced four times.</p>
                        <p><pre>deltaph</pre> should not be made too large, as
                        anharmonic terms could then become significant, neither should it be too
                        small as this can introduce a numerical error.</p> </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
  <xs:annotation>
    <xs:appinfo>
      <parent>/input</parent>
      <root>properties</root>
    </xs:appinfo>
  </xs:annotation>
  <xs:element ex:importance="essential" ex:unit="" name="properties">
    <xs:annotation>
      <xs:documentation> Properties listed in this element can be calculated from the groundstate.
        It works also from a saved state from a previous run. </xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:all>
        <xs:element ex:importance="essential" ex:unit="" name="bandstructure" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>If present a banstructure is calculated.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:annotation>
              <xs:documentation>Create a bandstructure. Must contain plot1d element for
                bandstructure path.</xs:documentation>
            </xs:annotation>
            <xs:all>
              <xs:element ex:importance="essential" ex:unit="" ref="plot1d"/>
            </xs:all>
            <xs:attribute ex:importance="essential" ex:unit="Hartree" ref="scissor" default="0.0d0">
              <xs:annotation>
                <xs:documentation>Value to shift bandgap.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="character" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>Band structure plot which includes angular momentum characters for
                  every atom.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="STM" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
            </xs:all>
            <xs:attribute ex:importance="expert" ex:unit="Hartree" name="bias" default="0.0d0" type="fortrandouble">
            	<xs:annotation>
                	<xs:documentation>Value of the STM bias voltage in Hartree. A positive value gives an empty states STM image while a negative bias gives a filled states images.</xs:documentation>
              	</xs:annotation>
            </xs:attribute>
        	<xs:attribute ex:importance="expert" ex:unit="" name="stmtype" default="differentialConductance">
            	<xs:annotation>
                	<xs:documentation>Specifies the type of STM calculation.
                		<list>
              				<li> differentialConductance (default): calculation of the LDOS at an energy Ef+bias. </li>
              				<li> integratedLDOS: integrates the LDOS in the range [Ef,Ef+bias] for positive bias and in the range [Ef+bias, Ef] for negative bias.</li>
            			</list>
                	</xs:documentation>
              	</xs:annotation>
              	<xs:simpleType>
		        	<xs:restriction base="xs:string">
            			<xs:enumeration value="differentialConductance">
            			</xs:enumeration>
            			<xs:enumeration value="integratedLDOS">
            			</xs:enumeration>
          			</xs:restriction>
        		</xs:simpleType>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="stmmode" default="constantHeight">
            	<xs:annotation>
                	<xs:documentation>Specifies the STM mode of operation to be simulated.
                		<list>
              				<li> constantHeight (default): Calculates the property defined in the "stmtype" attribute on a two-dimensional mesh defined by the plot2d element. </li>
              				<li> topographic: (to be implemented) Calculates the iso-surface of the property defined in the "stmtype" attribute.</li>
            			</list>
                	</xs:documentation>
              	</xs:annotation>
              	<xs:simpleType>
		        	<xs:restriction base="xs:string">
            			<xs:enumeration value="constantHeight">
            			</xs:enumeration>
            			<xs:enumeration value="topographic">
            			</xs:enumeration>
          			</xs:restriction>
        		</xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="wfplot" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Wavefunction plot.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:annotation>
              <xs:documentation>Plot the wave function at a set of kpoints</xs:documentation>
            </xs:annotation>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="kstlist" minOccurs="1">
                <xs:annotation>
                  <xs:documentation><inlinemath>{\mathbf k}</inlinemath>-point and state index for which the wave function should be
                    plotted.</xs:documentation>
                </xs:annotation>
              </xs:element>
              <xs:element ex:importance="expert" ex:unit="" ref="plot1d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="essential" ex:unit="" name="dos" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation> If present a DOS calculation is started. <p/> DOS and optics plots
              require integrals of the kind
                <displaymath>g(\omega_i)=\frac{\Omega}{(2\pi)^3}\int_{\rm BZ} f({ \bf k})
                \delta(\omega_i-e({\bf k}))d{ \bf k}.</displaymath> These are calculated by first
              interpolating the functions <inlinemath>e({ \bf k})</inlinemath> and <inlinemath>f({
                \bf k})</inlinemath> with the trilinear method on a much finer mesh whose size is
              determined by <attref>ngrdos</attref>. Then the <inlinemath>\omega</inlinemath>-dependent
              histogram of the integrand is accumulated over the fine mesh. If the output function
              is noisy then either <attref>ngrdos</attref> should be increased or <attref>nwdos</attref>
              decreased. Alternatively, the output function can be artificially smoothed up to a
              level given by <attref>nsmdos</attref>. This is the number of successive 3-point averages to
              be applied to the function <inlinemath>g</inlinemath>. </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="sqados" default="0.0d0 0.0d0 1.0d0" type="vect3d">
              <xs:annotation>
                <xs:documentation> Spin-quantization axis in Cartesian coordinates used when
                  plotting the spin-resolved DOS (z-axis by default). </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="lmirep" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation> When lmirep is set to <pre>"true"</pre>, the spherical harmonic
                  basis is transformed into one in which the site symmetries are block diagonal.
                  Band characters determined from the density matrix expressed in this basis
                  correspond to irreducible representations, and allow the partial DOS to be
                  resolved into physically relevant contributions, for example eg and t2g.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" ref="nwdos" default="500"> </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" ref="ngrdos" default="100"> </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" ref="nsmdos" default="0"> 
              <xs:annotation>
                <xs:documentation>This attribute indicates the type of smearing for the resulting DOS. In particular, the value 0 means no smearing at all, 1 that a three nearest point averaging is performed, 2 that two such consecutive averagings are done, etc. 
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="Hartree" name="winddos" default="-0.5d0 0.5d0" type="vect2d">
              <xs:annotation>
                <xs:documentation>Frequency/energy window for the DOS or optics
                  plot.</xs:documentation>
                <xs:appinfo>
                  <oldname>wdos</oldname>
                </xs:appinfo>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="Hartree" ref="scissor" default="0.0d0"/>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="LSJ" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Output L, S and J expectation values.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="kstlist" minOccurs="0">
                <xs:annotation>
                  <xs:documentation> List of <inlinemath>{ \bf k}</inlinemath>-point and state
                    pairs. Referenced by their index. </xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="masstensor" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation> Compute the effective mass tensor at the <inlinemath>{\mathbf k}</inlinemath>-point given by
              vklem. </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="deltaem" type="fortrandouble" default="0.025d0">
              <xs:annotation>
                <xs:documentation> The size of the <inlinemath>{\mathbf k}</inlinemath>-vector displacement used when calculating
                  numerical derivatives for the effective mass tensor. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="ndspem" type="xs:integer" default="1">
              <xs:annotation>
                <xs:documentation> The number of <inlinemath>{\mathbf k}</inlinemath>-vector displacements in each direction around
                  vklem when computing the numerical derivatives for the effective mass
                  tensor.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="vklem" type="vect3d" default="0.0d0 0.0d0 0.0d0">
              <xs:annotation>
                <xs:documentation>The <inlinemath>{\mathbf k}</inlinemath>-point in lattice coordinates at which to compute the
                  effective mass tensors.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="essential" ex:unit="" name="chargedensityplot" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Plot the charge density</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="essential" ex:unit="" ref="plot1d" minOccurs="0"/>
              <xs:element ex:importance="essential" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="essential" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
            <xs:attribute name="plotgradient" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>
                  Calculate and plot the module of the density gradient
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="exccplot" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Exchange-correlation and Coulomb potential plots.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="plot1d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="elfplot" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Electron localization function (ELF).</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="plot1d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="mvecfield" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Plot of magnetization vector field.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="xcmvecfield" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Plot of exchange-correlation magnetic vector field.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="electricfield" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>Writes the electric field to file.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="gradmvecfield" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Plot of he gradient of the magnetic vector field.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="plot1d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot2d" minOccurs="0"/>
              <xs:element ex:importance="expert" ex:unit="" ref="plot3d" minOccurs="0"/>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="essential" ex:unit="" name="fermisurfaceplot" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Writes Fermi surface data to file.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="essential" ex:unit="" name="nstfsp" type="xs:integer" default="6">
              <xs:annotation>
                <xs:documentation>Number of states to be included in the Fermi surface plot
                  file.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="essential" ex:unit="" name="separate" type="xs:boolean" default="false"/>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="EFG" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Calculation of electric field gradient (EFG), contact
              charge.</xs:documentation>
          </xs:annotation>
          <xs:complexType/>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="mossbauer" minOccurs="0">
          <xs:complexType/>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="momentummatrix" maxOccurs="1" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Matrix elements of the momentum operator (legacy version, required by
              dielectric-element).</xs:documentation>
            <xs:appinfo>
              <oldname>noname</oldname>
            </xs:appinfo>
          </xs:annotation>
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" ref="fastpmat" default="false">
              <xs:annotation>
                <xs:documentation>apply generalised DFT correction of L. Fritsche and Y. M. Gu,
                  Phys. Rev. B 48, 4250 (1993)</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="dielectric" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>Linear optical response (without local field effects, legacy
              version).</xs:documentation>
            <xs:appinfo>
              <oldname>noname</oldname>
            </xs:appinfo>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element ex:importance="expert" ex:unit="" name="optcomp" type="integertriple" default="1 1 1" maxOccurs="27">
                <xs:annotation>
                  <xs:documentation>The components of the first- or second-order optical tensor to
                    be calculated.</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
            <xs:attribute ex:importance="expert" ex:unit="Hartree" ref="scissor" default="0.0d0"/>
            <xs:attribute ex:importance="expert" ex:unit="" ref="intraband" default="false">
              <xs:annotation>
                <xs:documentation> The intraband attribute is <pre>"true"</pre> if the intraband
                  term is to be added to the optical matrix (q=0) </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="usegdft" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>apply generalised DFT correction of L. Fritsche and Y. M. Gu,
                  Phys. Rev. B 48, 4250 (1993)</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="moke" minOccurs="0">
          <xs:complexType/>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="expiqr" minOccurs="0">
          <xs:complexType>
            <xs:annotation>
              <xs:documentation>Write out matrix elements of plane wave for given list of <inlinemath>{\mathbf k}</inlinemath>-points
                and states</xs:documentation>
            </xs:annotation>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" ref="kstlist" minOccurs="0">
                <xs:annotation>
                  <xs:documentation><inlinemath>{\mathbf k}</inlinemath>-point list (all states are considered) for which the matrix
                    elements are written out.</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="elnes" minOccurs="0">
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="vecql" type="vect3d" default="0.0d0 0.0d0 0.0d0">
              <xs:annotation>
                <xs:documentation>Gives the q-vector in lattice coordinates for calculating
                  ELNES.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="eliashberg" minOccurs="0">
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="mustar" type="fortrandouble" default="0.15d0">
              <xs:annotation>
                <xs:documentation>Coulomb pseudopotential, <inlinemath>\mu*</inlinemath>, used in the McMillan-Allen-Dynes
                  equation.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
      </xs:all>
    </xs:complexType>
  </xs:element>
  <xs:annotation>
    <xs:appinfo>
      <parent>/input</parent>
      <root>xs</root>
    </xs:appinfo>
  </xs:annotation>
  <xs:element ex:importance="expert" ex:unit="" name="xs">
    <xs:annotation>
      <xs:documentation> If this element is present with valid configuration, the macroscopic
        dielectric function and related spectroscopic quantities in the linear regime are calculated
        through either time-dependent DFT (TDDFT) or the Bethe-Salpeter equation
        (BSE).</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:all>
        <xs:element ex:importance="expert" ex:unit="" name="tddft" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" ref="intraband" default="false">
              <xs:annotation>
                <xs:documentation> By setting it to <pre>"true"</pre>, the intraband
                  contribution is included in the calculation for the finite q. 
		</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="torddf" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation> Set to <pre>"true"</pre> if to consider the time-ordered version
                  of the dielectric function. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="tordfxc" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation> Set to <pre>"true"</pre> if to consider the time-ordered version
                  of xc kernel (MBPT derived kernels only). </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="aresdf" type="xs:boolean" default="true">
              <xs:annotation>
                <xs:documentation> Set to <pre>"true"</pre> if to consider the anti-resonant part
                  for the dielectric function. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="aresfxc" type="xs:boolean" default="true">
              <xs:annotation>
                <xs:documentation> Set to <pre>"true"</pre> if to consider the anti-resonant part
                  for the MBPT derived xc-kernels. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="Hartree" name="fxcbsesplit" type="fortrandouble" default="1.0d-5">
              <xs:annotation>
                <xs:documentation>Split parameter for degeneracy in energy differences of MBPT
                  derived xc kernels. See A. Marini, Phys. Rev. Lett., 91, (2003)
                  256402.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="acont" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>Set to <pre>"true"</pre> if analytic continuation from the
                  imaginary axis to the real axis is to be performed.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="nwacont" type="xs:integer" default="0">
              <xs:annotation>
                <xs:documentation>Number of energy intervals (on imaginary axis) for analytic
                  continuation.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="lindhard" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation> Set to <pre>"true"</pre> if Lindhard-like function is to be
                  calculated. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="kerndiag" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation> Set to <pre>"true"</pre> if only diagonal part of xc-kernel is to
                  be used. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="lmaxalda" type="xs:integer" default="3">
              <xs:annotation>
                <xs:documentation>Angular momentum cutoff for Rayleigh expansion of exponential
                  factor for ALDA-kernel.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="alphalrc" type="fortrandouble" default="0.0d0">
              <xs:annotation>
                <xs:documentation><inlinemath>\alpha</inlinemath>-parameter for the static long
                  range contribution (LRC) model xc kernel.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="alphalrcdyn" type="fortrandouble" default="0.0d0">
              <xs:annotation>
                <xs:documentation><inlinemath>\alpha</inlinemath>-parameter for the dynamical long
                  range contribution (LRC) model xc kernel.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="betalrcdyn" type="fortrandouble" fixed="0.0d0">
              <xs:annotation>
                <xs:documentation><inlinemath>\beta</inlinemath>-parameter for the dynamical long
                  range contribution (LRC) model xc kernel.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="mdfqtype" type="xs:integer" default="0">
              <xs:annotation>
                <xs:documentation> Treatment of macroscopic dielectric function for <inlinemath>{\bf
                    Q}</inlinemath>-point outside of Brillouin zone. A value of 0 uses the full
                    <inlinemath>{\bf Q}</inlinemath> and the <inlinemath>({\bf 0},{\bf
                    0})</inlinemath> component of the microscopic dielectric matrix is used. A
                  value of 1 invokes a decomposition <inlinemath>{\bf Q}={\bf q}+{\bf G}_{\bf
                    q}</inlinemath> and the <inlinemath>({\bf Q}_{\bf q},{\bf Q}_{\bf
                    q})</inlinemath> component of the microscopic dielectric matrix is used.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="fxctype" default="RPA">
              <xs:annotation>
                <xs:documentation>Defines which xc kernel is to be used.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="RPA">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>0</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="LRCstatic_NLF">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>1</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="LRCstatic">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>2</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="LRCdyn_NLF">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>3</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="LRCdyn">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>4</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="ALDA">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>5</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="MB1_NLF">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>7</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                  <xs:enumeration value="MB1">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldnr>8</oldnr>
                      </xs:appinfo>
                    </xs:annotation>
                  </xs:enumeration>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="do" default="fromscratch">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>nonreplace</oldname>
                </xs:appinfo>
                <xs:documentation> Decides if the TDDFT calculation is to be resumed starting from a
                  new xc kernel or is to be skipped. </xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="fromscratch"/>
                  <xs:enumeration value="fromkernel"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="screening" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="do" default="fromscratch">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>nonreplace</oldname>
                </xs:appinfo>
                <xs:documentation> Decides if the calculation of the screening is done from scratch
                  or is to be skipped.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="fromscratch"/>
                  <xs:enumeration value="skip"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="nosym" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>nosymscr</oldname>
                </xs:appinfo>
                <xs:documentation>
                  <attref>nosym</attref> is <pre>"true"</pre> if no symmetry information should be used
                  for screening. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="ngridk" type="integertriple" default="0 0 0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>ngridkscr</oldname>
                </xs:appinfo>
                <xs:documentation><inlinemath>{\mathbf k}</inlinemath>-point grid sizes for screening.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="reducek" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>reducekscr</oldname>
                </xs:appinfo>
                <xs:documentation>
                  <attref>reducek</attref> is <pre>"true"</pre> if <inlinemath>{\mathbf k}</inlinemath>-points are to be reduced with crystal
                  symmetries for screening. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="vkloff" type="vect3d" default="-1.0d0 -1.0d0 -1.0d0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>vkloffscr</oldname>
                </xs:appinfo>
                <xs:documentation><inlinemath>{\mathbf k}</inlinemath>-point offset for screening.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="rgkmax" type="fortrandouble" default="0.0d0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>rgkmaxscr</oldname>
                </xs:appinfo>
                <xs:documentation>The smallest muffin-tin radius times <pre>gkmax</pre> for
                  screening.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="nempty" type="xs:integer" default="0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>nemptyscr</oldname>
                </xs:appinfo>
                <xs:documentation>Number of empty states.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="screentype" default="full">
              <xs:annotation>
                <xs:documentation>Defines which type of screening is to be used.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="full"/>
                  <xs:enumeration value="diag"/>
                  <xs:enumeration value="noinvdiag"/>
                  <xs:enumeration value="longrange"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="BSE" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="nosym" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>nosymbse</oldname>
                </xs:appinfo>
                <xs:documentation> Set to <pre>"true"</pre> if no symmetry information should be
                  used for BSE. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="reducek" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>reducekbse</oldname>
                </xs:appinfo>
                <xs:documentation>
                  <attref>reducek</attref> is <pre>"true"</pre> if <inlinemath>{\mathbf k}</inlinemath>-points are to be reduced with crystal
                  symmetries for BSE. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="vkloff" type="vect3d" default="-1.0d0 -1.0d0 -1.0d0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>vkloffbse</oldname>
                </xs:appinfo>
                <xs:documentation><inlinemath>{\mathbf k}</inlinemath>-point offset for BSE.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="rgkmax" type="fortrandouble" default="0.0d0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>rgkmaxbse</oldname>
                </xs:appinfo>
                <xs:documentation>Smallest muffin-tin radius times
                  <pre>gkmax</pre>.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="scrherm" type="xs:integer" default="0">
              <xs:annotation>
                <xs:documentation> Method of how an almost Hermitian matrix is inverted. A value of
                  0: invert full matrix (matrix is allowed to be not strictly Hermitian); a value of
                  1: take the Hermitian average for inversion; a value of 2: assume Hermitian and
                  use the upper triangle; a value of 3: assume Hermitian and use the lower
                  triangle.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="fbzq" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>Set to <pre>"true"</pre> if q-point set is to be taken from the
                  first Brillouin zone.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="sciavtype" default="spherical">
              <xs:annotation>
                <xs:documentation> Defines how the screened Coulomb interaction matrix is to be
                  averaged (important for the singular terms). </xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="spherical"/>
                  <xs:enumeration value="screendiag"/>
                  <xs:enumeration value="invscreendiag"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="sciavbd" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>
                  <pre>"true"</pre> if the body of the screened Coulomb interaction is to be
                  averaged (q=0). </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="sciavqhd" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>
                  <pre>"true"</pre> if the head of the screened Coulomb interaction is to be
                  averaged (q!=0). </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="sciavqwg" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>
                  <pre>"true"</pre> if the wings of the screened Coulomb interaction are to be
                  averaged (q!=0). </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="sciavqbd" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>
                  <pre>"true"</pre> if the body of the screened Coulomb interaction is to be
                  averaged (q!=0). </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="bsedirsing" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation><pre>"true"</pre> if effective singular part of direct term of BSE
                  Hamiltonian is to be used.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="lmaxdielt" type="xs:integer" default="14">
              <xs:annotation>
                <xs:documentation>Angular momentum cutoff of the spherical harmonics expansion of
                  the dielectric matrix.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="nleblaik" type="xs:integer" default="5810">
              <xs:annotation>
                <xs:documentation>Number of points used for the Lebedev-Laikov grids must be
                  selected according to V.I. Lebedev, and D.N. Laikov, Doklady Mathematics, 59
                  (1999) 477.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="nexcitmax" type="xs:integer" default="100">
              <xs:annotation>
                <xs:documentation>Maximum number of excitons to be considered in a BSE
                  calculation.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="nstlbsemat" type="integerquadrupel" default="0 0 0 0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>nbfbse,nafbse</oldname>
                </xs:appinfo>
                <xs:documentation>Range of bands for calculating the screening and matrix elements
                  needed for solving the BSE. The first pair of numbers corresponds to the band
                  index for local orbitals and valence states (counted from the lowest eigenenergy),
                  the second pair corresponds to the band index of the conduction states (counted
                  from the Fermi level).</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="nstlbse" type="integerquadrupel" default="0 0 0 0">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>nbfbse,nafbse</oldname>
                </xs:appinfo>
                <xs:documentation>Range of bands included for the BSE calculation. The first pair of
                  numbers corresponds to the band index for local orbitals and valence states
                  (counted from the lowest eigenenergy), the second pair corresponds to the band
                  index of the conduction states (counted from the Fermi level).</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="aresbse" type="xs:boolean" default="true">
              <xs:annotation>
                <xs:documentation> Is set to <pre>"true"</pre> if to consider the anti-resonant part
                  for the BSE spectrum. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="bsetype" default="singlet">
              <xs:annotation>
                <xs:documentation>Defines which parts of the BSE Hamiltonian are to be
                  considered.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:enumeration value="IP"/>
                  <xs:enumeration value="RPA"/>
                  <xs:enumeration value="singlet"/>
                  <xs:enumeration value="triplet"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="transitions" minOccurs="0" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>Describe transitions between Kohn-Sham states for the calculation of
              the Kohn-Sham response function (and screening) here. Individual transitions as well
              as a range (or a list) of initial and final states can be defined.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:all>
              <xs:element ex:importance="expert" ex:unit="" name="individual" minOccurs="0" maxOccurs="1">
                <xs:annotation>
                  <xs:documentation>A list of individual transitions consisting of an initial state
                    a final state and a <inlinemath>{\mathbf k}</inlinemath>-point is given here. If the list is empty, no transitions
                    are considered.</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ex:importance="expert" ex:unit="" name="trans" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation> An individual transition consisting of an initial state a
                          final state and a <inlinemath>{\mathbf k}</inlinemath>-point is given here. Values of zero correspond to the
                          inclusion of all initial and final states and all <inlinemath>{\mathbf k}</inlinemath>-points and can be used
                          as "wildcards" (default). Therefore, an empty element amounts to include
                          all transitions.</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute ex:importance="expert" ex:unit="" ref="action" use="optional" default="include">
                          <xs:annotation>
                            <xs:documentation>Select to include or exclude states. If a state is
                              included as well as excluded several times the last definition (in the
                              sequence of individual transitions) counts.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="kpointnumber" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>Number of <inlinemath>{\mathbf k}</inlinemath>-points to be considered. A value of zero
                              (default) means to include all <inlinemath>{\mathbf k}</inlinemath>-points. </xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="initial" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>Initial state of individual transition. A value of
                              zero (default) means to include all states. </xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="final" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>Final state of individual transition. A value of zero
                              (default) means to include all states. </xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element ex:importance="expert" ex:unit="" name="ranges" minOccurs="0" maxOccurs="1">
                <xs:annotation>
                  <xs:documentation>A list of ranges of transitions (initial state as well as final
                    state ranges) and a <inlinemath>{\mathbf k}</inlinemath>-point are given here. An empty list amounts to no
                    transitions at all.</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ex:importance="expert" ex:unit="" name="range" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>A range of transitions (for initial as well as final
                          states) is given here. A range consists of a "start" and a "stop" values
                          as well as a <inlinemath>{\mathbf k}</inlinemath>-point. Values of zero correspond to starting at the first
                          state and stopping at the last state and considering all <inlinemath>{\mathbf k}</inlinemath>-points. They
                          can be used as "wildcards" (default). Therefore, an empty element
                          corresponds to the full initial/final state range for all
                          <inlinemath>{\mathbf k}</inlinemath>-points.</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute ex:importance="expert" ex:unit="" ref="action" use="optional" default="include">
                          <xs:annotation>
                            <xs:documentation>Select to include or exclude states. If a state is
                              included as well as excluded several times the last definition (in the
                              sequence of individual transitions) counts.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" ref="statestype" use="required">
                          <xs:annotation>
                            <xs:documentation>Select for initial or final state
                              range.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="kpointnumber" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>Number of <inlinemath>{\mathbf k}</inlinemath>-point to be considered. A value of zero
                              (default) means to include all <inlinemath>{\mathbf k}</inlinemath>-point. </xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="start" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>Start value (first state) for range. A value of zero
                              (default) means to start from the first state. </xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="stop" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>Stop value (last state) for range. A value of zero
                              (default) means to stop at the last state (no upper
                              limit).</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element ex:importance="expert" ex:unit="" name="lists" minOccurs="0" maxOccurs="1">
                <xs:annotation>
                  <xs:documentation>A list of initial and final state entries to be considered for
                    transitions. An empty list amounts to no transitions at all.</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element ex:importance="expert" ex:unit="" name="istate" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>An initial or final state and corresponding <inlinemath>{\mathbf k}</inlinemath>-point is
                          given here. Values of zero correspond to considering all initial/final
                          states for all <inlinemath>{\mathbf k}</inlinemath>-points. They can be used as "wildcards" (default).
                          Therefore, an empty element corresponds to the full initial/final state
                          set for all <inlinemath>{\mathbf k}</inlinemath>-points.</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute ex:importance="expert" ex:unit="" ref="action" use="optional" default="include">
                          <xs:annotation>
                            <xs:documentation>Select to include or exclude states. If a state is
                              included as well as excluded several times the last definition (in the
                              sequence of individual transitions) counts.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" ref="statestype" use="required">
                          <xs:annotation>
                            <xs:documentation>Select for initial or final state
                              list.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="kpointnumber" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>Number of <inlinemath>{\mathbf k}</inlinemath>-point to be consider. A value of zero
                              (default) means to include all <inlinemath>{\mathbf k}</inlinemath>-point. </xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute ex:importance="expert" ex:unit="" name="state" type="xs:integer" default="0">
                          <xs:annotation>
                            <xs:documentation>The state to be considered. A value of zero (default)
                              means to include all states.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:all>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" ref="qpointset" minOccurs="1" maxOccurs="1">
          <xs:annotation>
            <xs:documentation> Finite momentum transfer <inlinemath>{ \bf G}+{ \bf q}</inlinemath>\
              vector. </xs:documentation>
            <xs:appinfo>
              <oldname>vgqlmt,nqptmt</oldname>
            </xs:appinfo>
          </xs:annotation>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="tetra" maxOccurs="1" minOccurs="0">
          <xs:complexType>
            <xs:attribute ex:importance="expert" ex:unit="" name="tetraocc" type="xs:boolean" default="false"/>
            <xs:attribute ex:importance="expert" ex:unit="" name="tetradf" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:documentation>
                  <pre>"true"</pre> if tetrahedron method is used for the <inlinemath>{\mathbf k}</inlinemath>-space integration in the
                  Kohn-Sham response function. </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="kordexc" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>tetrakordexc</oldname>
                </xs:appinfo>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="cw1k" type="xs:boolean" default="false">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>tetracw1k</oldname>
                </xs:appinfo>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute ex:importance="expert" ex:unit="" name="qweights" type="xs:integer" default="1">
              <xs:annotation>
                <xs:appinfo>
                  <oldname>tetraqweights</oldname>
                </xs:appinfo>
                <xs:documentation>Choice of weights and nodes for the tetrahedron method and
                  non-zero Q-point.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element ex:importance="expert" ex:unit="" ref="energywindow" maxOccurs="1" minOccurs="1"> </xs:element>
        <xs:element ex:importance="expert" ex:unit="" name="plan" minOccurs="0" maxOccurs="1">
          <xs:complexType>
            <xs:sequence>
              <xs:element ex:importance="expert" ex:unit="" name="doonly" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                  <xs:attribute ex:importance="expert" ex:unit="" name="task" use="required">
                    <xs:annotation>
                      <xs:appinfo>
                        <oldname>noreplace</oldname>
                      </xs:appinfo>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <!-- required workflow tasks below -->
                        <xs:enumeration value="xsgeneigvec">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>301</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate eigenvectors, values and
                              occupancies.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="tetcalccw">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>310</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate frequency-dependent weights for convolutions
                              using the linear tetrahedron method. </xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="writepmatxs">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>320</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate momentum matrix elements.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="writeemat">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>330</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate q-dependent matrix
                              elements.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="df">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>340</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate the Kohn-Sham response function checked in
                              the code.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="df2">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>345</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate the Kohn-Sham response function taking into
                              account the rigid shift of the BSE diagonal. ??? This is not a
                              duplicate task, as the task-Nr. is referenced. checked in the code
                              !</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="idf">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>350</oldnr>
                            </xs:appinfo>
                            <xs:documentation> Set up simple xc-kernels, solve Dyson's equation for
                              the full polarizability and determine the macroscopic dielectric
                              function and other spectroscopic quantities.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="scrgeneigvec">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>401</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate eigenvectors, -values and occupancies for
                              screening</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="scrtetcalccw">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>410</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate frequency-dependent weights for convolutions
                              using the linear tetrahedron method for screening. </xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="scrwritepmat">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>420</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate momentum matrix elements for
                              screening.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="screen">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>430</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate RPA screening (ignoring scissor's
                              shift).</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="scrcoulint">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>440</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate direct term of BSE
                              Hamiltonian.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="exccoulint">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>441</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate exchange term of BSE
                              Hamiltonian.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="bse">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>445</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Bethe-Salpeter equation.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="kernxc_bse">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>450</oldnr>
                            </xs:appinfo>
                            <xs:documentation> Calculate frequency dependent xc-kernel drived from
                              the Bethe-Salpeter equation in first order. </xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <!-- experimental and debugging tasks below -->
                        <xs:enumeration value="writebandgapgrid">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>23</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Estimate bandgap from regular grid.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="writepmat">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>120</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate momentum matrix elements
                              (legacy).</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="dielectric">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>121</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Linear optics (legacy).</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="writepmatasc">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>321</oldnr>
                            </xs:appinfo>
                            <xs:documentation>ASCII output of momentum matrix
                              elements.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="pmatxs2orig">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>322</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Convert momentum matrix elements file to old
                              format.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="writeematasc">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>331</oldnr>
                            </xs:appinfo>
                            <xs:documentation>ASCII output of q-dependent matrix
                              elements.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="writepwmat">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>335</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Calculate matrix elements of the plane wave (simple
                              version for checking).</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="emattest">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>339</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Check relation between matr. el. of exp. and mom.
                              matr. el.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="x0toasc">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>341</oldnr>
                            </xs:appinfo>
                            <xs:documentation>ASCII output of Kohn Sham response
                              function.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="x0tobin">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>342</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Binary output of Kohn Sham response
                              function.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="fxc_alda_check">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>398</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Check ALDA kernel.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="kernxc_bse3">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>451</oldnr>
                            </xs:appinfo>
                            <xs:documentation>BSE-kernel, straight-forward
                              version.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="testxs">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>499</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Debug routine of xs-part.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="xsestimate">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>700</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Estimate disk-space, cpu-time and memory
                              requirements.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="xstiming">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>701</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Test timing.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <!-- debugging main part -->
                        <xs:enumeration value="testmain">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>999</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Debug routine of main part of code.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <!-- import/export tasks below -->
                        <xs:enumeration value="portstate(1)">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>900</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Generate STATE.xml file from STATE.OUT
                              file.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="portstate(2)">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>901</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Generate STATE.OUT file from STATE.xml
                              file.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="portstate(-1)">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>910</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Display information about STATE.OUT
                              file.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                        <xs:enumeration value="portstate(-2)">
                          <xs:annotation>
                            <xs:appinfo>
                              <oldnr>911</oldnr>
                            </xs:appinfo>
                            <xs:documentation>Display information about STATE.xml
                              file.</xs:documentation>
                          </xs:annotation>
                        </xs:enumeration>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:all>
      <xs:attribute ex:importance="expert" ex:unit="" name="emattype" type="xs:integer" default="1">
        <xs:annotation>
          <xs:documentation>Type of matrix element generation (band-combinations). Should only be
            referenced for experimental features. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="dfoffdiag" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation>
            <pre>"true"</pre> if also off-diagonal tensor elements for the interacting response
            function are to be calculated. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxapwwf" type="xs:integer" default="-1">
        <xs:annotation>
          <xs:documentation>Maximum angular momentum for APW functions for q-dependent matrix
            elements.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxemat" type="xs:integer" default="3">
        <xs:annotation>
          <xs:documentation> Maximum angular momentum for Rayleigh expansion of <inlinemath>{\bf
              q}</inlinemath>-dependent plane wave factor. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="emaxdf" type="fortrandouble" default="1.0d10">
        <xs:annotation>
          <xs:documentation>Energy cutoff for the unoccupied states in the Kohn-Sham response
            function and screening. This parameter ensures a cutoff at the specified energy and is
            defined in addition to the <attref>nempty</attref> parameter.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Hartree" name="broad" type="fortrandouble" default="0.01d0">
        <xs:annotation>
          <xs:documentation>Lorentzian broadening for all spectra</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Hartree" name="epsdfde" type="fortrandouble" default="1.0d-8">
        <xs:annotation>
          <xs:documentation>The smallest energy difference for which the square of its inverse will
            be considered in the Kohn-Sham response function. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="tevout" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation>
            <pre>"true"</pre> if energy outputs are in eV. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="xstype" use="required">
        <xs:annotation>
          <xs:documentation>Should TDDFT be used or BSE.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="TDDFT"/>
            <xs:enumeration value="BSE"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <!-- Here are experimental parameters -->
      <xs:attribute ex:importance="expert" ex:unit="" ref="fastpmat" default="true">
        <xs:annotation>
          <xs:documentation> If set to <pre>"true"</pre>, a fast method to calculate APW-lo, lo-APW
            and lo-lo parts of the momentum matrix elements in the muffin-tin is used.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="fastemat" type="xs:boolean" default="true">
        <xs:annotation>
          <xs:documentation> If set to <pre>"true"</pre>, a fast method to calculate APW-lo, lo-APW
            and lo-lo parts of the <inlinemath>{\bf q}</inlinemath>-dependent matrix elements in
            the muffin-tin is used. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="tappinfo" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:documentation><pre>"true"</pre> to append info to output file.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="dbglev" type="xs:integer" default="0">
        <xs:annotation>
          <xs:documentation>Debugging level. Any value <inlinemath>{ &gt; 0 }</inlinemath>  will
            produce additional debug output. The large the value, the more information is
            output.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="gqmaxtype" default="|G+q|">
        <xs:annotation>
          <xs:documentation>Defines the way the gqmax cutoff is applied for the selection of the
            G-vectors. For <inlinemath>"|G+q|"</inlinemath> G vectors are selected such that
              <inlinemath>{\bf G+q}</inlinemath> lies within the <attref>gqmax</attref> cutoff. For
              <inlinemath>"|G|"</inlinemath> G vectors are selected such that <inlinemath>{\bf
              G}</inlinemath> lies within the <pre>gqmax</pre> cutoff. </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="|G+q|"> </xs:enumeration>
            <xs:enumeration value="|G|"> </xs:enumeration>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="gqmax" type="fortrandouble" default="0.0d0">
        <xs:annotation>
          <xs:documentation><inlinemath>{\bf |G+q|}</inlinemath> cutoff for Kohn-Sham response
            function, screening and for expansion of Coulomb potential</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <!-- section of parameters from groundstate which are allowed to be different from the ones of the ground state run -->
      <xs:attribute ex:importance="expert" ex:unit="" name="nosym" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:appinfo>
            <oldname>nosymxs</oldname>
          </xs:appinfo>
          <xs:documentation>
            <attref>nosym</attref> is <pre>"true"</pre> if no symmetry information should be used
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="ngridk" type="integertriple" default="1 1 1">
        <xs:annotation>
          <xs:appinfo>
            <oldname>ngridkxs</oldname>
          </xs:appinfo>
          <xs:documentation><inlinemath>{\mathbf k}</inlinemath>-point grid sizes.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="vkloff" type="vect3d" default="0.0d0 0.0d0 0.0d0 ">
        <xs:annotation>
          <xs:appinfo>
            <oldname>vkloffxs</oldname>
          </xs:appinfo>
          <xs:documentation> The <inlinemath>{\mathbf k}</inlinemath>-point set offset. All <inlinemath>{\mathbf k}</inlinemath>-points of a regular <inlinemath>{\mathbf k}</inlinemath>-mesh (a mesh
            containing the Gamma point) are shifted by a constant vector given by <inlinemath>({\rm
              vkloff}_1/N_1, {\rm vkloff}_2/N_2, {\rm vkloff}_3/N_3)</inlinemath>, where
              <inlinemath> (N_1,N_2,N_3) </inlinemath> is the division of the <inlinemath>{\mathbf k}</inlinemath>-point mesh. It
            should be selected such that all symmetries among the <inlinemath>{\mathbf k}</inlinemath>-points from the regular
            (non-shifted) mesh are broken. An exception is the case of optical spectra without local
            field effects where symmetries among <inlinemath>{\mathbf k}</inlinemath>-points are explicitly taken into account.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="reducek" type="xs:boolean" default="false">
        <xs:annotation>
          <xs:appinfo>
            <oldname>reducekxs</oldname>
          </xs:appinfo>
          <xs:documentation>
            <attref>reducek</attref> is <pre>"true"</pre> if <inlinemath>{\mathbf k}</inlinemath>-points are to be reduced (with crystal
            symmetries). </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="ngridq" type="integertriple" default="1 1 1">
        <xs:annotation>
          <xs:appinfo>
            <oldname>ngridqxs</oldname>
          </xs:appinfo>
          <xs:documentation>q-point grid sizes.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="reduceq" type="xs:boolean" default="true">
        <xs:annotation>
          <xs:appinfo>
            <oldname>reduceqxs</oldname>
          </xs:appinfo>
          <xs:documentation>
            <attref>reducek</attref> is <pre>"true"</pre> if q-points are to be reduced (with crystal
            symmetries). </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="rgkmax" type="fortrandouble" default="7.0d0">
        <xs:annotation>
          <xs:appinfo>
            <oldname>rgkmaxxs</oldname>
          </xs:appinfo>
          <xs:documentation>Smallest muffin-tin radius times <pre>gkmax</pre>.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="Hartree" name="swidth" type="fortrandouble" default="0.001d0">
        <xs:annotation>
          <xs:appinfo>
            <oldname>swidthxs</oldname>
            <olddefault default="0.01d0"/>
          </xs:appinfo>
          <xs:documentation>Width of the smooth approximation to the Dirac delta function (must be &gt;
            0).</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxapw" type="xs:integer" default="10">
        <xs:annotation>
          <xs:appinfo>
            <oldname>lmaxapwxs</oldname>
            <olddefault default="8"/>
          </xs:appinfo>
          <xs:documentation>Angular momentum cut-off for the APW functions.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="lmaxmat" type="xs:integer" default="5">
        <xs:annotation>
          <xs:appinfo>
            <oldname>lmaxmatxs</oldname>
          </xs:appinfo>
          <xs:documentation>Angular momentum cut-off for the outer-most loop in the hamiltonian and
            overlap matrix setup.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="nempty" type="xs:integer" default="5">
        <xs:annotation>
          <xs:appinfo>
            <oldname>nemptyxs</oldname>
          </xs:appinfo>
          <xs:documentation> Number of empty states. This parameter determines the energy cutoff for
            the excitation spectra. For determining the number of states related to an energy
            cutoff, perform one iteration of a SCF calculation, setting <attref>nempty</attref> to a
            higher value and check the <filename>EIGVAL.OUT</filename>. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="essential" ex:unit="Hartree" ref="scissor" default="0.0d0">
        <xs:annotation>
          <xs:documentation>Scissors correction to correct the conduction band
            energies.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:annotation>
        <xs:appinfo>
            <parent>/input</parent>
            <root>gw</root>
        </xs:appinfo>
    </xs:annotation>
  <xs:element ex:importance="expert" ex:unit="" name="gw">
        <xs:annotation>
            <xs:documentation>G0W0 calculation setup.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:all>

            <xs:element ex:importance="expert" ex:unit="" name="freqgrid" maxOccurs="1" minOccurs="0">
              <xs:annotation>
                <xs:documentation>
                   Parameters for the frequecy grid:
                     fgrid: 'eqdis'  - equidistant frequencies from 0 to freqmax
                            'gaulag' - Gauss-Laguerre quadrature from 0 to inf
                            'gauleg' - Gauss-Legendre quadrature from 0 to freqmax
                            'gaule2' - double Gauss-Legendre quadrature from 0 to freqmax and 
                                       from freqmax to inf
                     nomeg: 16 (default) 
                     omegmax: 0.42 (default)
                     maxexp:  1 (default) Maximum exponent for analytic continuation
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute ex:importance="expert" type="xs:string" ex:unit="" name="fgrid" default="gaule2"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="xs:integer" ex:unit="" name="nomeg" default="16"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="fortrandouble" ex:unit="" name="freqmax" default="0.42d0"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="xs:integer" ex:unit="" name="maxexp" default="1"> </xs:attribute>
              </xs:complexType>
            </xs:element>
 
            <xs:element ex:importance="expert" ex:unit="" name="selfenergy" maxOccurs="1" minOccurs="0">
              <xs:annotation>
                <xs:documentation>
                   Option for correlation self-energy: 
                      npol: Number of poles ( previous maxexp + 1, valid range: 2.. nomeg/2 );
                      iopes: 0/1/2/3 - without or with iteration; 
                      iopac: 0/1 - Pade's approximation / RGN method(Rojas, Godby and Needs)
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute ex:importance="expert" type="xs:integer" ex:unit="" name="npol" default="2"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="xs:integer" ex:unit="" name="iopes" default="0"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="xs:integer" ex:unit="" name="iopac" default="2"> </xs:attribute>
              </xs:complexType>
            </xs:element>
                              
            <xs:element ex:importance="expert" ex:unit="" name="mixbasis" maxOccurs="1" minOccurs="0">
              <xs:annotation>
                <xs:documentation>
                    Mixed basis parameters.
                 </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute ex:importance="expert" type="xs:integer" ex:unit="" name="lmaxmb" default="3"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="fortrandouble" ex:unit="" name="epsmb" default="1.0d-4"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="fortrandouble" ex:unit="" name="gmb" default="1.0"> </xs:attribute>
              </xs:complexType>
            </xs:element>
                          
            <xs:element ex:importance="expert" ex:unit="" name="barecoul" maxOccurs="1" minOccurs="0">
              <xs:annotation>
                <xs:documentation>
                    Parameters for the bare coulomb potential:
                      pwm - Maximum G for the pw basis (in gmaxvr*gmb units)
                      stctol - Convergence tolerance of the struct. const.
                      barcevtol - Tolerance to choose basis functions from bare Coulomb matrix eigenvectors.
                </xs:documentation>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute ex:importance="expert" type="fortrandouble" ex:unit="" name="pwm" default="2.0d0"> </xs:attribute>
                <xs:attribute ex:importance="expert" type="fortrandouble" ex:unit="" name="stctol" default="1.0d-15"> </xs:attribute>
                <xs:attribute ex:importance="expert" ex:unit="" name="barcevtol" type="fortrandouble" default="-1.0d-10"> </xs:attribute>
              </xs:complexType>
            </xs:element>
          </xs:all>

          <xs:attribute ex:importance="expert" ex:unit="" name="taskname" default="gw">
            <xs:annotation>
              <xs:documentation>
                  Type of calculations.
	      </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:string">
                <xs:enumeration value="lapw"/>
                <xs:enumeration value="evec"/>
                <xs:enumeration value="prod"/>
                <xs:enumeration value="mixf"/>
                <xs:enumeration value="comp"/>
                <xs:enumeration value="coul"/>
                <xs:enumeration value="acon"/>
                <xs:enumeration value="emac"/>
                <xs:enumeration value="epsev"/>
                <xs:enumeration value="epgw"/>
                <xs:enumeration value="wev"/>
                <xs:enumeration value="sepl"/>
                <xs:enumeration value="vxc"/>
                <xs:enumeration value="ex"/>
                <xs:enumeration value="band"/>
                <xs:enumeration value="rotmat"/> 
                <xs:enumeration value="gw"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="iik" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Lower bound for the k-point number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="jjk" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Upper bound for the k-point number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="igmin" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Lower bound for the G-vector number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="igmax" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Upper bound for the G-vector number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="ibmin" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Lower bound for the band number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="ibmax" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Upper bound for the band number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="ibmin2" type="xs:integer" use="optional" default="1">
            <xs:annotation>
             <xs:documentation>Lower bound for the band number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="ibmax2" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Upper bound for the band number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="at1" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>First atom number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="at2" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Second atom number</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="ibgw" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Lower band index for GW output.</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="nbgw" type="xs:integer" use="optional" default="1">
            <xs:annotation>
              <xs:documentation>Upper band index for GW output.</xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="rpmat" type="xs:boolean" default="false">
            <xs:annotation>
              <xs:documentation>
	          Read option for the momentum matrix.
	      </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="reps" type="xs:boolean" default="false">
            <xs:annotation>
              <xs:documentation>
	          Read option for the dielectric function matrix elements from file.
	      </xs:documentation>
            </xs:annotation>
          </xs:attribute>

          <xs:attribute ex:importance="expert" ex:unit="" name="corflag" default="all">
            <xs:annotation>
              <xs:documentation>
                  Option for treating core. Valid options are:
                      all - All electron calculation;
                      val - Valence electrons only;
                      vab - Valence-only without cores in mixbasis;
                      xal - All electron for exchange only.
                  Default value: all.
              </xs:documentation>
            </xs:annotation>
            <xs:simpleType>
              <xs:restriction base="xs:string">
                <xs:enumeration value="all"/>
                <xs:enumeration value="val"/>
                <xs:enumeration value="vab"/>
                <xs:enumeration value="xal"/>
              </xs:restriction>
            </xs:simpleType>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="q0eps" type="vect3d" default="0.577350269d0 0.577350269d0 0.577350269d0">
            <xs:annotation>
              <xs:documentation>
                  q0eps - the direction q <inlinemath>\to</inlinemath> 0.
                  Default: (1/sqrt(3),1/sqrt(3),1/sqrt(3))
              </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="reduceq" type="xs:boolean" default="true">
            <xs:annotation>
              <xs:documentation>
	          Use the crystal symmetry to calculate the dielectric function and perform q-point BZ integration.
	      </xs:documentation>
            </xs:annotation>
          </xs:attribute>

          <xs:attribute ex:importance="expert" ex:unit="" name="bzconv" type="xs:string" default="tetra">
            <xs:annotation>
              <xs:documentation>
                 BZ convolution option:
                   tetra - Use the linearized tetrahedron method;
                   sum   - Simple sum over k-points.
	      </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          <xs:attribute ex:importance="expert" ex:unit="" name="debug" type="xs:boolean" default="false">
            <xs:annotation>
              <xs:documentation>
	          Print debugging information.
	      </xs:documentation>
            </xs:annotation>
          </xs:attribute>
          
          
        </xs:complexType>
    </xs:element>
  <xs:annotation>
    <xs:documentation> In order to perform an <exciting/> calculation an XML input file called
        <filename>input.xml</filename> must be provided. <p> This web page lists all
          <blue>elements</blue> and <green>attributes</green> that can be used in the input file of
        an <exciting>exciting</exciting> calculation: </p>
      <list>
        <li>
          <blue>elements</blue> are defined according to the <a href="http://en.wikipedia.org/wiki/XML#Key_terminology">general XML conventions </a>.
            <it>Example:</it> The element <elementref>groundstate</elementref> is used to set up a
          self-consistent calculation of the ground-state energy. </li>
        <li>
          <green>attributes</green> are defined according to the <a href="http://en.wikipedia.org/wiki/XML#Key_terminology">general XML conventions </a>. An
          attribute is always connected to an element. In <exciting>exciting</exciting> an attribute
          generally specifies a parameter or a set of parameters which are connected to the
          corresponding element. <it>Example:</it> The attribute <attref>xctype</attref> of the
          element <elementref>groundstate</elementref> defines which exchange-correlation potential
          is used in the self-consistent calculation. </li>
      </list>
      <p> The input file of an <exciting>exciting</exciting> calculation is named
          <filename>input.xml</filename>. A simple example for an input file can be found <a href="http://exciting-code.org/input-file-format-overview">here</a>. The input file
          <filename>input.xml</filename> must be a valid XML file and it must contain the root
        element <elementref>input</elementref>. </p>
      <p> Unless explicitly stated otherwise, <exciting>exciting</exciting> uses atomic units (
          <inlinemath>\hbar = m_{e} = e = 1</inlinemath> ): </p>
      <list>
        <li> Energies are given in Hartree: <p>
            <inlinemath> 1\ {\rm Ha} = 2\ {\rm Ry} = 27.21138386(68)\ {\rm eV} = 4.35926\cdot
              10^{-18}\ {\rm J}</inlinemath>
          </p>
        </li>
        <li> Lengths are given in Bohr: <p>
            <inlinemath> 1\ a_{\rm Bohr}\ = 0.52917720859(36)\ {\buildrel _{\circ} \over
              {\mathrm{A}}} \ = 0.52917720859(36) \cdot 10^{-10} \ {\rm m}</inlinemath>
          </p>
        </li>
        <li> Magnetic fields are given in units of <p>
            <inlinemath> 1\ {\rm a.u.} = \displaystyle\frac{e}{a_{\rm Bohr}^2}\ = 1717.2445320376\
              {\rm Tesla}. </inlinemath>
          </p>
        </li>
      </list>
      <p> Note: The electron charge is positive, so that the atomic numbers
          <inlinemath>Z</inlinemath> are negative. </p>
    </xs:documentation>
    <xs:appinfo>
      <title>
        <exciting>exciting</exciting> input reference </title>
      <root>input</root>
    </xs:appinfo>
  </xs:annotation>
  <xs:element ex:importance="essential" ex:unit="" name="input">
    <xs:annotation>
      <xs:appinfo> </xs:appinfo>
      <xs:documentation> The XML element <elementref>input</elementref> is the root element of the
          <exciting>exciting</exciting> input file. It must contain at least the elements
          <elementref>title</elementref>, <elementref>structure</elementref>, and
          <elementref>groundstate</elementref>, each of them must be present only one time.
      </xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:all>
        <xs:element ex:importance="essential" ex:unit="" name="title" type="xs:string" minOccurs="1" maxOccurs="1">
          <xs:annotation>
            <xs:documentation>The title of the input file, <it>e.g.</it>, "Ground-State
              Calculation for Aluminum". </xs:documentation>
          </xs:annotation>
        </xs:element>
        <xs:element ex:importance="essential" ex:unit="" ref="structure" maxOccurs="1" minOccurs="1"/>
        <xs:element ex:importance="essential" ex:unit="" ref="groundstate" maxOccurs="1" minOccurs="1"/>
        <xs:element ex:importance="essential" ex:unit="" ref="structureoptimization" maxOccurs="1" minOccurs="0"/>
        <xs:element ex:importance="essential" ex:unit="" ref="properties" maxOccurs="1" minOccurs="0"/>
        <xs:element ex:importance="expert" ex:unit="" ref="phonons" maxOccurs="1" minOccurs="0"/>
        <xs:element ex:importance="expert" ex:unit="" ref="xs" minOccurs="0" maxOccurs="1"/>
        <xs:element ex:importance="expert" ex:unit="" ref="gw" minOccurs="0" maxOccurs="1"/>
        <xs:element minOccurs="0" name="keywords" type="xs:string" maxOccurs="1">
          <xs:annotation>
            <xs:documentation> The keywords tag can contain a space separated list of keywords
              classifying the calculation for archiving purposes. It is not used by the
                <exciting>exciting</exciting> program. </xs:documentation>
          </xs:annotation>
        </xs:element>
      </xs:all>
      <xs:attribute ex:importance="experimental" ex:unit="" name="xsltpath" type="xs:anyURI" default="http://xml.exciting-code.org">
        <xs:annotation>
          <xs:appinfo> </xs:appinfo>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute ex:importance="expert" ex:unit="" name="scratchpath" type="xs:anyURI" use="optional" default="./">
        <xs:annotation>
          <xs:documentation> The path to the scratch space where the eigenvector related files,
              <filename>EVECFV.OUT</filename>, <filename>EVECSV.OUT</filename>, and
              <filename>OCCSV.OUT</filename> will be written. If the local directory is accessed via
            a network then <attref>scratchpath</attref> can be set to a directory on a local disk.
            The default value is the working directory, <it>i.e.</it>, the directory where the
            program is started. </xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
</xs:schema>
